<!doctype html><html lang=en class=dark><head><script async>localStorage.getItem("theme")==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel=stylesheet><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,500;1,500&display=swap"><link type=text/plain rel=author href=https://www.krakend.io/humans.txt><link rel=canonical href=https://www.krakend.io/docs/enterprise/governance/quota/><title>API Governance using Quota - Enterprise Edition | KrakenD API Gateway v2.11</title><meta name=description content="The Quota feature allows teams to enforce quota limits by tier, enabling API monetization strategies such as freemium plans, usage-based tiers, and …"><meta itemprop=name content="API Governance using Quota - Enterprise Edition | KrakenD API Gateway"><meta itemprop=description content="The Quota feature allows teams to enforce quota limits by tier, enabling API monetization strategies such as freemium plans, usage-based tiers, and …"><meta itemprop=image content="https://www.krakend.io/images/logo.png"><meta property="og:url" content="https://www.krakend.io/docs/enterprise/v2.11/governance/quota/"><meta property="og:site_name" content="KrakenD - Open source API Gateway"><meta property="og:title" content="API Governance using Quota"><meta property="og:description" content="The Quota feature allows teams to enforce quota limits by tier, enabling API monetization strategies such as freemium plans, usage-based tiers, and differentiated service levels, but also helps you contain the expenses when using external APIs or AI providers.
The Quota system is equally powerful in egress and ingress scenarios:
On the egress side, organizations can enforce internal consumption controls. For instance, when KrakenD acts as an AI Gateway proxying to LLM models or metered third-party APIs. By applying quotas per team, product, etc, you can prevent runaway spend, cap daily/weekly/monthly/yearly usage, or restrict access to premium services, keeping your operational budget under control. On the ingress side, when exposing public APIs, quotas become the foundation of monetization models. You can define consumption tiers (e.g., Free, Pro, Enterprise), enforce usage ceilings based on subscription level, and enable freemium or trial plans with precision. This protects your backend infrastructure from abuse and creates opportunities to align API usage with business value, enabling pay-per-use, overage billing, and developer self-service models, all driven by configuration. Quotas use persistence backed by Redis, which survives deployments and restarts, and serves as a central point for tracking activity."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-05-09T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-09T00:00:00+00:00"><meta property="og:image" content="https://www.krakend.io/images/krakend-og-bg.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.krakend.io/images/krakend-og-bg.png"><meta name=twitter:title content="API Governance using Quota"><meta name=twitter:description content="The Quota feature allows teams to enforce quota limits by tier, enabling API monetization strategies such as freemium plans, usage-based tiers, and differentiated service levels, but also helps you contain the expenses when using external APIs or AI providers.
The Quota system is equally powerful in egress and ingress scenarios:
On the egress side, organizations can enforce internal consumption controls. For instance, when KrakenD acts as an AI Gateway proxying to LLM models or metered third-party APIs. By applying quotas per team, product, etc, you can prevent runaway spend, cap daily/weekly/monthly/yearly usage, or restrict access to premium services, keeping your operational budget under control. On the ingress side, when exposing public APIs, quotas become the foundation of monetization models. You can define consumption tiers (e.g., Free, Pro, Enterprise), enforce usage ceilings based on subscription level, and enable freemium or trial plans with precision. This protects your backend infrastructure from abuse and creates opportunities to align API usage with business value, enabling pay-per-use, overage billing, and developer self-service models, all driven by configuration. Quotas use persistence backed by Redis, which survives deployments and restarts, and serves as a central point for tracking activity."><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name=viewport><meta name=docsearch:language content="en"><meta name=docsearch:version content="v2.11"><meta name=docsearch:product content="enterprise"><meta name=docsearch:relevant content="false"><link rel=stylesheet href="https://www.krakend.io/css/bundle.min.74ee0a970cc9196bc90d7a2deb0636624942fd1cde6025a83cc71acc834eeca0.css"><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-128.png sizes=128x128><link href=https://www.googletagmanager.com rel=preconnect crossorigin><link rel=dns-prefetch href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],window.dataLayer.push({pagePublishDate:"2025-05-09",pageModifiedDate:"2025-05-09",pageReadingTimeMinutes:17,pageReadingTimeSeconds:974,pageWordCount:3571,pageFuzzyWordCount:3600,pageKind:"page",pageId:"af773e14eafdf2d5b166709b96378097",pageTitle:"Usage Quota",pagePermalink:"https://www.krakend.io/docs/enterprise/v2.11/governance/quota/",pageType:"docs",pageTranslated:!1,pageType2:"post",pageLanguage:"en"})</script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="//www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-T8R6LF3")</script><script>function setCookie(e,t,n){const s=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${e}=${t}; expires=${s}; path=/`}function getCookie(e){return document.cookie.split("; ").reduce((t,n)=>{const s=n.split("=");return s[0]===e?s[1]:t},"")}</script><script>getCookie("theme")==="light"&&document.documentElement.classList.remove("dark")</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3></head><body class="bg--primary krakend docs page-af773e14eafdf2d5b166709b96378097"><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T8R6LF3" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=announcement-bar><p class="print:hidden flex items-center justify-center gradient--border-background px-4 py-2 text-sm font-medium text-white sm:px-6 lg:px-8"><a title="KrakenD CE 2.12.1 and EE 2.12.3 update released" href=https://www.krakend.io/blog/krakend-2.12.3-ee-2.12.1-ce-release-notes/ class="text-white text-bold"><span class="inline-flex items-center rounded-full bg-denim-100 px-2.5 py-0.5 mr-2 text-xs font-medium text-denim-800">News</span>
KrakenD CE 2.12.1 and EE 2.12.3 update released</a></p></div><main><header class="print:hidden bg-brand-neutral-900 flex items-center sticky top-0 z-50 w-full"><div class=container--xxl><nav class="relative py-4 lg:py-3.5 flex items-center justify-between"><div class="flex gap-3 lg:gap-0 flex-col lg:flex-row lg:items-stretch"><div><a href=https://www.krakend.io/ title=Home><img src=https://www.krakend.io/images/logo-krakend.svg width=157 height=31 alt="KrakenD API Gateway"></a></div><div class="hidden lg:ml-12 mr-4 xl:mr-0 lg:block" id=navbarMenu><ul class="flex flex-col lg:flex-row lg:space-x-6 h-full lg:items-center font-medium text-sm whitespace-nowrap py-3 lg:py-0"><li class="mb-3 lg:mb-0"><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/open-source/>Open Source</a></li><li class="mb-3 lg:mb-0"><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/enterprise/>Enterprise</a></li><li class="mb-3 lg:mb-0"><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/ai-gateway/>AI Gateway</a></li><li class="mb-3 lg:mb-0"><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/case-study/>Case studies</a></li><li class="mb-3 lg:mb-0"><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/docs/>Docs</a></li><li class="mb-0 lg:mb-0 nav-item dropdown"><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Resources
<svg class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg></a><div class="hidden absolute lg:top-full left-0 right-0 divide-y rounded-lg shadow dropdown-menu bg-white"><div class="shadow--xxl rounded-lg"><div class="border-b border-brand-neutral-150 pl-10 pr-6 grid grid-cols-4"><div class=py-7><p class="text-brand-blue-500 text-base font-semibold">Knowledge Hub</p><ul class="mr-7 pt-2.5 -ml-2.5"><li><a href=https://training.krakend.io/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="m17.067 15.348-3-2.87-3 2.87v-11c0-.528.447-.957 1-.957h4c.552.0 1 .429 1 .957v11z"/><path d="M18.067 4.826h2c.552.0 1 .428 1 .957v16.26c0 .529-.448.957-1 .957h-14c-1.105.0-2-.856-2-1.913V2.913"/><path d="M20.067 4.826v-2.87c0-.528-.448-.956-1-.956h-13c-1.105.0-2 .856-2 1.913s.895 1.913 2 1.913h4.5"/></g></g></svg>
Training & Certification</a></li><li><a href=https://www.krakend.io/docs/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M12.233 7.98 21.4 3.397v13.642a.917.917.0 01-.507.82l-8.66 4.33-8.66-4.33a.917.917.0 01-.506-.82V3.397l9.166 4.583z"/><path d="m19.566 1-7.334 3.71L4.9 1m7.334 6.98v14.209"/></g></g></svg>
Documentation</a></li><li><a href=https://www.krakend.io/support/ class=nav--link><svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#717DA3" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M16.712 4.33a9.027 9.027.0 011.652 1.306c.51.51.944 1.064 1.306 1.652M16.712 4.33l-3.448 4.138m3.448-4.138a9.014 9.014.0 00-9.424.0M19.67 7.288l-4.138 3.448m4.138-3.448a9.014 9.014.0 010 9.424m-4.138-5.976a3.736 3.736.0 00-.88-1.388 3.737 3.737.0 00-1.388-.88m2.268 2.268a3.765 3.765.0 010 2.528m-2.268-4.796a3.765 3.765.0 00-2.528.0m4.796 4.796c-.181.506-.475.982-.88 1.388a3.736 3.736.0 01-1.388.88m2.268-2.268 4.138 3.448m0 0a9.027 9.027.0 01-1.306 1.652c-.51.51-1.064.944-1.652 1.306m0 0-3.448-4.138m3.448 4.138a9.014 9.014.0 01-9.424.0m5.976-4.138a3.765 3.765.0 01-2.528.0m0 0a3.736 3.736.0 01-1.388-.88 3.737 3.737.0 01-.88-1.388m2.268 2.268L7.288 19.67m0 0a9.024 9.024.0 01-1.652-1.306A9.027 9.027.0 014.33 16.712m0 0 4.138-3.448M4.33 16.712a9.014 9.014.0 010-9.424m4.138 5.976a3.765 3.765.0 010-2.528m0 0c.181-.506.475-.982.88-1.388a3.736 3.736.0 011.388-.88m-2.268 2.268L4.33 7.288m6.406 1.18L7.288 4.33m0 0A9.024 9.024.0 005.636 5.636 9.025 9.025.0 004.33 7.288"/></svg>
Support</a></li></ul></div><div class=py-7><p class="text-brand-blue-500 text-base font-semibold">Developer Tools</p><ul class="mr-7 pt-2.5 -ml-2.5"><li><a href=https://www.krakend.io/docs/configuration/designer/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M2.067 22.189s1.294-1.336 1.432-4.778a3.493 3.493.0 01.998-2.515 3.438 3.438.0 014.858 4.859 8.101 8.101.0 01-7.288 2.434h0zm9.01-11.408 2.422 2.421"/><path d="M21.511 2.743a2.54 2.54.0 00-3.728.149l-9.564 11.25a3.44 3.44.0 011.913 1.94l11.231-9.607a2.54 2.54.0 00.148-3.732z"/></g></g></svg>
Designer</a></li><li><a href=https://www.krakend.io/docs/overview/playground/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="m9.357 6.5-2.79 2.943 2.79 3.057m5.419-6 2.79 2.943-2.79 3.057"/></g><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M14.733 21.527H9.4l.667-3.906h4zm-7.333.0h9.334M4.733 2H19.4s2.667.0 2.667 2.604v10.414s0 2.603-2.667 2.603H4.733s-2.666.0-2.666-2.603V4.604S2.067 2 4.733 2"/></g></g></svg>
Community Playground</a></li><li><a href=https://www.krakend.io/docs/enterprise/overview/playground/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="m9.357 6.5-2.79 2.943 2.79 3.057m5.419-6 2.79 2.943-2.79 3.057"/></g><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M14.733 21.527H9.4l.667-3.906h4zm-7.333.0h9.334M4.733 2H19.4s2.667.0 2.667 2.604v10.414s0 2.603-2.667 2.603H4.733s-2.666.0-2.666-2.603V4.604S2.067 2 4.733 2"/></g></g></svg>
Enterprise Playground</a></li></ul></div><div class=py-7><p class="text-brand-blue-500 text-base font-semibold">Company</p><ul class="mr-7 pt-2.5 -ml-2.5"><li><a href=https://www.krakend.io/team/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M5.067 8.37c0 1.862 1.567 3.37 3.5 3.37s3.5-1.508 3.5-3.37C12.067 6.51 10.5 5 8.567 5s-3.5 1.509-3.5 3.37h0zm-3 9.63c0-3.457 2.91-6.26 6.5-6.26s6.5 2.803 6.5 6.26"/><g><path d="M15.567 10.74c1.933.0 3.5-1.508 3.5-3.37.0-1.861-1.567-3.37-3.5-3.37-.467.0-.913.088-1.32.248m1.32 6.492c3.59.0 6.5 2.803 6.5 6.26"/></g></g></g></svg>
About us</a></li><li><a href=https://www.krakend.io/partners/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M13.776 15.662h.204s3.303.007 3.348.0l2.085-.393a.976.976.0 00.784-.967V8.96a.983.983.0 00-.607-.915L14.764 6.1a1.404 1.404.0 00-1.435.235L9.824 9.3a.77.77.0 00-.179.95c.171.319.54.467.876.352l3.937-1.33"/><path d="m3.936 13.696 2.487.491 3.43 3.525a.94.94.0 00.838.274l.478-.086a.97.97.0 00.781-.802l.166-.996 1.635-.29.282-1.679 1.635-.29.281-1.68-2.487-2.555M11.655 7.75l-1.414-1.452a.938.938.0 00-1.044-.214l-2.87 1.223-2.39.491"/><path d="M1.067 6.324H2.98c.253.0.497.103.676.287.18.185.28.435.28.696v6.88a.97.97.0 01-.956.983H1.067h0V6.324h0zM21.154 7.307h1.913v8.846h0-1.913a.97.97.0 01-.957-.983V8.29a.97.97.0 01.957-.983h0z"/></g></g></svg>
Partners & Resellers</a></li><li><a href=https://www.krakend.io/blog/ class=nav--link><svg width="25" height="24" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linecap="round" stroke-width="1.5"><path d="M20.95 10.917v10.05c0 .506-.41.917-.916.917H3.984a.917.917.0 01-.917-.917V2.917c0-.507.41-.917.916-.917h9.05M8.692 10.38h6.633M8.692 13.664h6.633m-6.633 3.28h6.633" stroke-linejoin="round"/><path d="M18.567 2v6m-3-3h6"/></g></g></svg>
Blog</a></li></ul></div><div class="border-l border-brand-neutral-150 p-7 pr-0 space-y-2.5 overflow-hidden"><div><img src=https://www.krakend.io/images/quotes/ibm/logo_dark.svg alt="IBM image" loading=lazy width=180 height=28></div><div><q class=whitespace-normal>
I've chosen KrakenD because of its simplicity, statelessness, immutability, and performance.</q></div><div class="flex gap-3"><div><img src=https://www.krakend.io/images/quotes/ibm/avatar.jpg alt="Tech Lead Cloud Infrastructure, IBM" loading=lazy width=44 height=44 class=rounded-full></div><div><p class="text-brand-neutral-500 text--base">Fabijan Bajo</p><p class="text-xs text-brand-neutral-300 font-medium">Tech Lead Cloud Infrastructure, IBM</p></div></div></div></div><div class="pl-10 pr-6 py-5 flex justify-between"><div><a href=https://www.krakend.io/features/ class="text--base text-brand-neutral-900"><svg width="25" height="24" class="mr-2.5 inline" viewBox="0 0 25 24"><g fill="none" fill-rule="evenodd"><path d="M.067.0h24v24h-24z"/><g stroke="#717DA3" stroke-linejoin="round" stroke-width="1.5"><path d="M12.11 15.347c0 .507-.41.917-.917.917H2.985a.917.917.0 01-.917-.917V2.917c0-.507.41-.917.917-.917h8.208c.506.0.917.41.917.917v12.43z"/><path d="M12.11 8.78c0-.506.41-.917.916-.917h8.208c.507.0.917.41.917.917v12.43c0 .507-.41.917-.917.917h-8.208a.917.917.0 01-.916-.917V8.78z"/><path stroke-linecap="round" d="M6.352 11.22 8.44 9.132 6.352 7.044m11.515 5.863-2.087 2.088 2.087 2.088M8.44 9.132H2.067M15.78 14.995h6.373"/></g></g></svg>
Compare Open Source VS Enterprise</a></div><div class="flex gap-7"><a href=https://www.krakend.io/contact-sales/ class="text--base text-brand-neutral-900"><svg width="24" height="24" class="mr-2.5 inline" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M12.662 2A9.32 9.32.0 004.527 6.784a9.328 9.328.0 00.21 9.438L2 22l5.749-2.738a9.326 9.326.0 0010.766-.654A9.336 9.336.0 0021.469 8.23 9.33 9.33.0 0012.662 2h0zM8.344 9.846h8.875m-8.875 3.5h5.875"/></g></g></svg>
Contact Sales
</a><a href="https://www.youtube.com/watch?v=VtXXZRO84t8" target=_blank class="text--base text-brand-neutral-900"><svg width="24" height="24" class="mr-2.5 inline" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><g stroke="#717DA3" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10A10 10 0 002 12z"/><path d="M9.333 15.213a1.454 1.454.0 002.411 1.095l4.923-4.306-4.923-4.309a1.453 1.453.0 00-2.41 1.095v6.425z"/></g></g></svg>
Watch a demo</a></div></div></div></div></li></ul></div></div><div class="flex justify-end items-stretch"><ul class="hidden lg:flex lg:space-x-6 items-center text-sm font-medium whitespace-nowrap"><li><a class="text-brand-neutral-300 hover:text-brand-neutral-100 transition-colors" href=https://www.krakend.io/download/>Downloads</a></li><li><a class="button--primary h-8 px-2.5 py-0 inline-flex items-center" href=https://www.krakend.io/contact-sales/>Request a Demo</a></li></ul><button class="absolute top-1/2 -translate-y-1/2 flex items-center text-white hover:text-opacity-75 focus:outline-none lg:hidden size-6 rounded-lg navbar-toggler group" type=button aria-label="Toggle navigation">
<svg class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 inline group-[.active]:opacity-0 transition-opacity" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
<svg class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-[.active]:opacity-100 transition-opacity" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.4 1 1 15.4M1 1l14.4 14.4"/></g></svg></button><div class="flex gap-5 mr-10 lg:mr-0 items-center lg:border-l border-brand-neutral-300 ml-5 pl-5"><button class="text-brand-neutral-300 hover:text-white transition-colors theme-toggle">
<svg class="hidden dark:block" width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.8" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M5.027 11a5.973 5.973.0 1011.946.0A5.973 5.973.0 005.027 11M11 2.372V1.044m6.101 3.855.939-.939M19.628 11h1.328m-3.855 6.101.939.939M11 19.628v1.328M4.899 17.101l-.939.939M2.372 11H1.044M4.899 4.899 3.96 3.96"/></g></svg>
<svg class="block dark:hidden" width="22" height="23" viewBox="0 0 22 23"><g stroke="currentColor" stroke-width="1.8" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M16.383 15.775C9.66 15.774 4.853 9.21 6.815 2.712c-6.991 3.256-7.872 12.94-1.586 17.43 5.563 3.973 13.343 1.285 15.335-5.299a9.854 9.854.0 01-4.181.932zM10.996 3.333h4.617M13.305 1v4.666m4.617 2.333H21M19.461 6.444v3.11"/></g></svg>
</button>
<a href=https://github.com/krakend class="text-brand-neutral-300 hover:text-white transition-colors"><span><svg class="" width="22" height="22" viewBox="0 0 24 24"><path d="M12 0c6.628.0 12 5.508 12 12.304.0 5.434-3.434 10.045-8.2 11.673-.608.121-.824-.263-.824-.59.0-.406.014-1.73.014-3.377.0-1.147-.384-1.896-.814-2.278 2.672-.304 5.48-1.345 5.48-6.07.0-1.344-.466-2.441-1.236-3.303.125-.31.536-1.562-.118-3.257.0.0-1.005-.33-3.296 1.262A11.275 11.275.0 0012 5.95a11.25 11.25.0 00-3.004.414c-2.293-1.592-3.3-1.262-3.3-1.262-.652 1.695-.24 2.946-.117 3.257-.767.862-1.236 1.959-1.236 3.303.0 4.713 2.802 5.77 5.467 6.08-.343.307-.654.85-.762 1.645-.684.315-2.422.858-3.492-1.022.0.0-.635-1.182-1.84-1.269.0.0-1.17-.015-.081.748.0.0.786.378 1.332 1.8.0.0.704 2.196 4.043 1.452.006 1.028.016 1.998.016 2.29.0.326-.22.706-.82.592C3.439 22.352.0 17.74.0 12.304.0 5.508 5.374.0 12 0" fill="currentColor" fill-rule="nonzero"/></svg></span></a></div></div></nav></div></header><div class="transition-transform duration-300 ease-in-out fixed inset-0 bg-brand-neutral-900 mobile-nav border-t text-brand-neutral-300 border-brand-neutral-300 lg:hidden overflow-y-auto scrollbar-xs-netrual"><ul class="divide-y divide-brand-neutral-300"><li class=p-4><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/open-source/>Open Source</a></li><li class=p-4><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/enterprise/>Enterprise</a></li><li class=p-4><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/ai-gateway/>AI Gateway</a></li><li class=p-4><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/case-study/>Case studies</a></li><li class=p-4><a class="hover:text-brand-neutral-100 transition-colors text-brand-neutral-300" href=https://www.krakend.io/docs/>Docs</a></li><li class=p-4><button data-toggle=collapse data-target=#resource-nav-mobile class="w-full hover:text-brand-neutral-100 transition-colors text-brand-neutral-300 flex justify-between items-center">
Resources
<svg class="h-4 w-4 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg></button><ul class="space-y-2 pt-5 hidden" id=resource-nav-mobile><li><a href=https://training.krakend.io/>Training & Certification</a></li><li><a href=https://www.krakend.io/support/>Support</a></li><li><a href=https://www.krakend.io/docs/configuration/designer/>Designer</a></li><li><a href=https://www.krakend.io/docs/overview/playground/>Community Playground</a></li><li><a href=https://www.krakend.io/docs/enterprise/overview/playground/>Enterprise Playground</a></li><li><a href=https://www.krakend.io/team/>About us</a></li><li><a href=https://www.krakend.io/partners/>Partners</a></li><li><a href=https://www.krakend.io/blog/>Blog</a></li></ul></li><li class=p-4><a href=https://www.krakend.io/features/>Compare Open Source VS Enterprise</a></li><li class=p-4><a href=https://www.krakend.io/contact-sales/>Contact Sales</a></li><li class=p-4><a href=https://www.krakend.io/download/>Downloads</a></li><li class="p-4 space-y-3"><div><img src=https://www.krakend.io/images/quotes/open-room/logo_dark.svg alt="Openroom Inc. image" loading=lazy width=180 height=28></div><div><q class=whitespace-normal>
KrakenD allowed us to focus on our backend and deploy a secure and performant system in a few days. After more than 2 years of use in production and 0 crash or malfunction, it also has proven its robustness</q></div><div class="flex gap-3"><div><img src=https://www.krakend.io/images/quotes/open-room/avatar.jpg alt="CTO, Openroom Inc." loading=lazy width=44 height=44 class=rounded-full></div><div class=whitespace-normal><p class="text-brand-neutral-500 text--base">Jonathan Muller</p><p class="text-xs text-brand-neutral-300 font-medium">CTO /
Openroom Inc.</p></div></div></li></ul></div><script>const navbarToggler=document.querySelector(".navbar-toggler");if(navbarToggler){const e=document.querySelector("header"),t=document.querySelector(".mobile-nav");navbarToggler.addEventListener("click",n=>{const{top:s}=e.getBoundingClientRect();document.body.style.setProperty("--header-top",`${e.offsetHeight+s}px`),navbarToggler.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("overflow-hidden")})}</script><nav class="print:hidden border-b border-t border-brand-blue-800 flex sticky z-20 bg-brand-neutral-900 breadcrumb-top-nav" aria-label=Breadcrumb style=top:60px><div class=container--3xl><ol role=list class="flex items-center space-x-1.5 py-2.5 text-xs flex-wrap leading-7"><li class="flex hidden lg:inline"><div class="flex items-center"><a href=https://www.krakend.io/docs/enterprise/ class="ml-1.5 font-medium text-brand-neutral-300 hover:text-white">Enterprise Documentation</a></div></li><li class="flex hidden lg:inline"><div class="flex items-center"><svg width="18" height="18" viewBox="0 0 18 18" class="text-brand-neutral-300"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg>
<span class="ml-1.5 font-medium text-brand-neutral-300 hover:text-white">Governance and Monetization</span></div></li><li class="flex order-2 lg:order-1 w-full lg:w-auto mt-2 lg:mt-0"><div class="flex items-center"><svg width="18" height="18" viewBox="0 0 18 18" class="text-brand-neutral-300"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg>
<a class="ml-1.5 font-medium text-brand-neutral-300 hover:text-white" href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/>Usage Quota</a></div></li><li class="flex-1 flex lg:ml-6 lg:justify-end order-1 lg:order-2 w-full lg:w-auto"><ul class="flex items-center justify-between w-full lg:w-auto"><li><div id=doc-selector class="hidden border text-brand-neutral-300 border-brand-blue-800 bg-brand-blue-900 absolute top-full rounded-2xl dark:shadow-xs overflow-hidden"><ul class="px-3.5 grid grid-cols-2 gap-x-6 py-1.5"><li><p class=font-semibold>Community Edition</p><ul><li class="nav-item child leading-6"><a href=https://www.krakend.io/docs/overview/ class="hover:text-white block nav-link children">v2.12.1 <span class="flex-none uppercase bg-brand-blue-500 text-white text-xxxs font-semibold tracking-wide px-2 py-1 rounded-2xl ml-1">Latest</span></a></li><li class="leading-6 nav-item text-xs child"><a href=https://www.krakend.io/docs/v2.11/overview/ class="hover:text-white block nav-link children">v2.11</a></li><li class="leading-6 nav-item text-xs child"><a href=https://www.krakend.io/docs/v2.10/overview/ class="hover:text-white block nav-link children">v2.10</a></li><li class="nav-item child text-sm leading-6"><a class="block text-brand-neutral-300 hover:text-white group" href=# data-toggle=collapse data-target=.hidden-versions-community>show older
<svg class="inline w-3 h-3 transition-transform duration-200 group-[.active]:rotate-180" data-slot="icon" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24"><path d="m19.5 8.25-7.5 7.5-7.5-7.5" stroke-linecap="round" stroke-linejoin="round"/></svg></a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.9/overview/ class="hover:text-white block nav-link children">v2.9</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.8/overview/ class="hover:text-white block nav-link children">v2.8</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.7/overview/ class="hover:text-white block nav-link children">v2.7</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.6/overview/ class="hover:text-white block nav-link children">v2.6</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.5/overview/ class="hover:text-white block nav-link children">v2.5</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.4/overview/ class="hover:text-white block nav-link children">v2.4</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.3/overview/ class="hover:text-white block nav-link children">v2.3</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.2/overview/ class="hover:text-white block nav-link children">v2.2</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.1/overview/ class="hover:text-white block nav-link children">v2.1</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v2.0/overview/ class="hover:text-white block nav-link children">v2.0</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v1.4/overview/ class="hover:text-white block nav-link children">v1.4</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-community"><a href=https://www.krakend.io/docs/v1.3/overview/ class="hover:text-white block nav-link children">v1.3</a></li></ul></li><li><p class=font-semibold>Enterprise Edition</p><ul><li class="nav-item child leading-6"><a href=https://www.krakend.io/docs/enterprise/governance/quota/ class="hover:text-white block nav-link children">v2.12.3 <span class="flex-none uppercase bg-brand-blue-500 text-white text-xxxs font-semibold tracking-wide px-2 py-1 rounded-2xl ml-1">Latest</span></a></li><li class="leading-6 nav-item text-xs child"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/ class="hover:text-white block nav-link children">v2.11</a></li><li class="leading-6 nav-item text-xs child"><a href=https://www.krakend.io/docs/enterprise/v2.10/governance/quota/ class="hover:text-white block nav-link children">v2.10</a></li><li class="nav-item child text-sm leading-6"><a class="block text-brand-neutral-300 hover:text-white group" href=# data-toggle=collapse data-target=.hidden-versions-enterprise>show older
<svg class="inline w-3 h-3 transition-transform duration-200 group-[.active]:rotate-180" data-slot="icon" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24"><path d="m19.5 8.25-7.5 7.5-7.5-7.5" stroke-linecap="round" stroke-linejoin="round"/></svg></a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.9/overview/ class="hover:text-white block nav-link children">v2.9</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.8/overview/ class="hover:text-white block nav-link children">v2.8</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.7/overview/ class="hover:text-white block nav-link children">v2.7</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.6/overview/ class="hover:text-white block nav-link children">v2.6</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.5/overview/ class="hover:text-white block nav-link children">v2.5</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.4/overview/ class="hover:text-white block nav-link children">v2.4</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.3/overview/ class="hover:text-white block nav-link children">v2.3</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.2/overview/ class="hover:text-white block nav-link children">v2.2</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.1/overview/ class="hover:text-white block nav-link children">v2.1</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v2.0/overview/ class="hover:text-white block nav-link children">v2.0</a></li><li class="leading-6 nav-item text-xs child hidden hidden-versions-enterprise"><a href=https://www.krakend.io/docs/enterprise/v1.3/overview/ class="hover:text-white block nav-link children">v1.3</a></li></ul></li></ul><div class="bg-brand-blue-900 p-2 text-brand-neutral-300 text-center border-t border-brand-blue-800"><a href=https://www.krakend.io/changelog/ class="text-xs leading-6 flex hover:text-white items-center justify-center gap-1.5"><svg data-slot="icon" width="18" height="18" class="inline" viewBox="0 0 18 18"><g stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M15 15.196c0 .72-.566 1.304-1.263 1.304H4.263C3.566 16.5 3 15.916 3 15.196V2.804c0-.72.566-1.304 1.263-1.304h6.632L15 5.74v9.456z" stroke-width="1.5"/><path d="M15 5.667h-2.77c-.679.0-1.23-.574-1.23-1.282V1.5l4 4.167z" stroke-width="1.5"/><path stroke-width="1.05" d="M12.6 7.75H5.4m7.2 2.5H5.4m3.2 2.5H5.4"/></g></svg>
<span class=block>Full changelog</span></a></div></div><div class="flex items-center"><div class="flex items-center"><a class="border border-brand-blue-800 py-1 px-3.5 rounded-3xl font-medium text-brand-neutral-300 hover:text-white group whitespace-nowrap" href=# class="nav-link dropdown-toggle" data-toggle=collapse data-target=#doc-selector><p class="inline font-medium">Enterprise Edition</p>v2.11 <span class="mr-2 flex-none uppercase bg-brand-blue-500 text-white text-xxs tracking-wide font-medium px-2 py-1 rounded-2xl ml-3">Older</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="inline rotate-90 transition-transform group-[.active]:-rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></li><li class="flex items-center"><div id=docsearch class="flex border border-gray-200 ml-3.5 rounded-lg lg:min-w-60"></div></li></ul></li></ol></div></nav><div class="docs-body pb-10"><div class=container--3xl><div class="flex flex-col md:flex-row gap-x-8 py-6 lg:py-10 mx-auto"><div class="md:w-80 shrink-0 print:hidden order-last md:order-first collapse-sidebar md:border-r md:border-brand-neutral md:dark:border-brand-blue-800 pr-1 relative"><div class="absolute h-3/4 top-3 z-1 -right-3 hidden md:inline-block"><button type=button class="toggle-collapse-sidebar rounded-xl print:hidden focus:outline-none size-6 sticky-sidebar inline-flex justify-center items-center sticky bg-white text-brand-blue-900 border-brand-neutral dark:bg-brand-blue-900 dark:text-white border dark:border-brand-blue-800 dark:hover:border-brand-neutral-600">
<svg width="18" height="18" viewBox="0 0 18 18" class="collapse-arrow w-4 h-4"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div><div class="w-full sticky-sidebar md:sticky md:overflow-y-auto top-40 no-scrollbar"><div class="flex items-center"><h2 class="text--lg dark:text-white collapse-title w-full whitespace-nowrap overflow-hidden ease-linear duration-500 transition-all">Enterprise Documentation</h2></div><ul class="py-5 space-y-[18px] text-sm font-medium" id=doc-sections><li class=nav-item><a data-toggle=collapse data-target=#menu-0 data-hide="#doc-sections > li.nav-item > div" href=#menu-0 role=button aria-expanded=false aria-controls=menu-0 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M8.446 20.625H3.978A1.92 1.92.0 012.062 18.7M17.383 8.433V2.017a.64.64.0 00-.639-.642H4.616A2.56 2.56.0 002.063 3.942V18.7a1.92 1.92.0 011.915-1.925h4.468"/><path d="m15.425 10.726 1.309 2.84h2.553a.631.631.0 01.44 1.098l-2.212 2.193 1.23 2.837a.675.675.0 01-.177.763.666.666.0 01-.776.077l-2.971-1.677-2.97 1.677a.666.666.0 01-.776-.077.675.675.0 01-.177-.763l1.228-2.834-2.213-2.193a.63.63.0 01.438-1.1h2.553l1.314-2.843a.68.68.0 011.207.002z"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Getting Started</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-0><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Introduction</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/installing/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Installation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/run/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Running KrakenD Enterprise</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/license-file/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Managing the LICENSE</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/designer/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Designer: Graphical Interface</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/playground/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Playground</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/guides/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Tutorials and Guides</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-1 data-hide="#doc-sections > li.nav-item > div" href=#menu-1 role=button aria-expanded=false aria-controls=menu-1 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M8.446 20.625H3.978A1.92 1.92.0 012.062 18.7M17.383 8.433V5.454L13.71 1.778a1.375 1.375.0 00-.973-.403H4.616h0A2.56 2.56.0 002.063 3.942V18.7m12.744-2.565a1.284 1.284.0 100-2.567 1.284 1.284.0 000 2.567z"/><path d="M16.275 11.132a.85.85.0 001.005.582l1.26-.291a1.146 1.146.0 011.09 1.897l-.881.951a.856.856.0 000 1.165l.882.951a1.146 1.146.0 01-1.091 1.898l-1.26-.292a.85.85.0 00-1.005.583l-.378 1.238a1.138 1.138.0 01-2.18.0l-.378-1.243a.85.85.0 00-1.005-.583l-1.26.292a1.146 1.146.0 01-1.09-1.898l.882-.95a.856.856.0 000-1.166l-.883-.95a1.146 1.146.0 011.091-1.899l1.26.292a.85.85.0 001.005-.582l.378-1.244a1.138 1.138.0 012.18.005l.378 1.244z"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Configuration files</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-1><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Configuration overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/structure/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">The configuration file</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/check/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Configuration check</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/audit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Configuration audit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/flexible-config/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Extended Flexible Configuration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/templates/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Configuration with templates</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/supported-formats/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Supported file formats</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/environment-vars/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Environment vars</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/hot-reload/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Watch and hot reload</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/working-directory/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Working Directory</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/migrating/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Upgrading the configuration</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-2 data-hide="#doc-sections > li.nav-item > div" href=#menu-2 role=button aria-expanded=false aria-controls=menu-2 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.369" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M2.064 12.925v7.7m0-1.283h12.918a2.575 2.575.0 00-2.583-2.567h-3.23a2.575 2.575.0 00-2.584-2.567H2.064m4.521 2.567h2.584m1.854-7.7c0 1.063.867 1.925 1.938 1.925 1.07.0 1.937-.862 1.937-1.925A1.931 1.931.0 0012.961 7.15c-1.07.0-1.938.862-1.938 1.925"/><path d="m14.529 14.85.137-.953a5.13 5.13.0 001.65-.944l1.676.668a1.296 1.296.0 001.6-.549l.172-.295a1.278 1.278.0 00-.32-1.651l-1.407-1.097a4.77 4.77.0 000-1.909l1.406-1.097c.505-.395.64-1.099.318-1.65l-.172-.296a1.296 1.296.0 00-1.6-.55l-1.673.669a5.13 5.13.0 00-1.646-.941l-.258-1.775a1.29 1.29.0 00-1.283-1.105h-.344A1.29 1.29.0 0011.51 2.476l-.258 1.775a5.125 5.125.0 00-1.645.94l-1.673-.663a1.296 1.296.0 00-1.6.549l-.172.295a1.278 1.278.0 00.32 1.651L7.891 8.12c-.13.63-.13 1.28.0 1.909l-1.408 1.097"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Service Settings</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-2><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Service Settings</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/redis-connection-pools/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Redis connection pools</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/http-server-settings/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP Server settings</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-3 data-hide="#doc-sections > li.nav-item > div" href=#menu-3 role=button aria-expanded=false aria-controls=menu-3 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g transform="translate(2.063 2.406)" stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd"><g stroke-linecap="round" stroke-linejoin="round"><path d="M3.674.0a3.674 3.674.0 013.674 3.674c0 1.494-1.993 4.11-3.043 5.383a.816.816.0 01-1.261.0C1.994 7.784.0 5.168.0 3.674A3.674 3.674.0 013.674.0z"/><path d="M2.45 3.674a1.225 1.225.0 102.448.0 1.225 1.225.0 00-2.449.0h0z"/></g><g stroke-linecap="round" stroke-linejoin="round"><path d="M14.193 5.5a3.674 3.674.0 013.673 3.674c0 1.494-1.993 4.11-3.043 5.383a.816.816.0 01-1.26.0c-1.05-1.273-3.044-3.889-3.044-5.383A3.674 3.674.0 0114.193 5.5z"/><path d="M12.968 9.174a1.225 1.225.0 102.45.0 1.225 1.225.0 00-2.45.0h0z"/></g><path d="M3.674 11h3.474a1.381 1.381.0 010 2.763H3.102a1.41 1.41.0 000 2.821h10.654"/><circle fill="#FFF" cx="3.717" cy="11" r="1"/><circle fill="#FFF" cx="14.053" cy="16.5" r="1"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Routing and Forwarding</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-3><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">The endpoint object</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">The backend object</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/parameter-forwarding/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Forwarding query strings and headers</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/no-op/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">No-op (proxy only)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/wildcard/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Wildcard routes</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/dynamic-routing/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Dynamic routing</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/catch-all/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">CatchAll</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/sequential-proxy/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Sequential Proxy (chain reqs.)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/conditional/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Conditional Routing</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/virtual-hosts/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Virtual Hosts</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/client-redirect/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Client redirects</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/url-rewrite/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">URL Rewrite</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/router-options/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Router options</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/http-proxy/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP Proxy</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/http-transport-settings/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP Global Client settings</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/http-client/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP Per-backend Client settings</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/concurrent-requests/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Concurrent Requests</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/service-discovery/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Service Discovery</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/shadow-backends/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Traffic shadowing/mirroring</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/common-expression-language-cel/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Conditional requests and responses</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/timeouts/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Timeouts</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-4 data-hide="#doc-sections > li.nav-item > div" href=#menu-4 role=button aria-expanded=false aria-controls=menu-4 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M9.213 12.192a2.98 2.98.0 115.958.0 2.98 2.98.0 01-5.958.0h0zm7.15 5.958a1.787 1.787.0 113.574.0 1.787 1.787.0 01-3.575.0h0zm0-10.13a1.787 1.787.0 113.574.0 1.787 1.787.0 01-3.575.0h0zM10.404 3.85a1.788 1.788.0 113.575.0 1.788 1.788.0 01-3.575.0zm-8.341.0a1.787 1.787.0 113.574.0 1.787 1.787.0 01-3.574.0zm.595 12.513a1.787 1.787.0 113.575.0 1.787 1.787.0 01-3.575.0zm11.639-2.067 2.59 2.59m-2.078-6.119 1.815-1.816m-4.433.262V5.638m-2.103 4.45L5.114 5.114m4.298 8.15-3.489 2.093"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Non-REST Connectivity</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-4><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/non-rest-connectivity/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Introduction to Non-REST Connectivity</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/soap/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">SOAP integration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/websockets/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">WebSockets</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/grpc/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Introduction to gRPC</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/grpc/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">gRPC Client</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/grpc/server/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">gRPC Server</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/amqp-consumer/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">RabbitMQ Consumer</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/amqp-producer/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">RabbitMQ Producer</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/pubsub/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Publisher/subscribe (Kafka,NATS and cloud)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/graphql/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">GraphQL</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/lambda/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Lambda functions</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/async/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Event-Driven Async Agents</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/async/amqp/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AMQP driver for Async Agent</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-5 data-hide="#doc-sections > li.nav-item > div" href=#menu-5 role=button aria-expanded=false aria-controls=menu-5 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><path d="M18.726 2.299a.802.802.0 00-1.37.566v.802h-.237c-2.46.0-4.748 1.056-6.257 2.66a.802.802.0 101.168 1.098c1.209-1.284 3.077-2.154 5.09-2.154h.237v.803a.802.802.0 001.37.566l1.598-1.604a.802.802.0 000-1.133L18.727 2.3zM1.375 4.469c0-.443.36-.802.802-.802 4.524.0 8.313 3.336 8.313 7.62.0 3.256 2.923 6.016 6.71 6.016h.156V16.5a.802.802.0 011.37-.567l1.595 1.601a.8.8.0 01.003 1.136l-1.598 1.604a.802.802.0 01-1.37-.566v-.802h-.157c-4.523.0-8.313-3.336-8.313-7.62.0-3.256-2.922-6.016-6.709-6.016a.802.802.0 01-.802-.802zm6.984 11.957a.802.802.0 10-1.134-1.134c-1.212 1.211-3.011 2.01-5.048 2.01a.802.802.0 100 1.605c2.454.0 4.665-.964 6.182-2.48zm5.208-7.545c-.332.0-.64.112-.866.338a1.208 1.208.0 00-.337.865v2.406c0 .332.112.64.337.866.226.224.534.337.866.337h.802c.332.0.639-.112.865-.337.225-.226.338-.534.338-.866v-2.406c0-.332-.112-.64-.338-.865a1.208 1.208.0 00-.865-.338h-.802zm4.812.0c-.332.0-.64.112-.865.338a1.208 1.208.0 00-.338.865v2.406c0 .332.112.64.338.866.226.224.533.337.865.337h.802c.332.0.64-.112.866-.337.224-.226.337-.534.337-.866v-2.406c0-.332-.112-.64-.337-.865a1.208 1.208.0 00-.866-.338h-.802zM3.14 7.116a1.604 1.604.0 100 3.209 1.604 1.604.0 000-3.209zm0 5.214a1.604 1.604.0 100 3.208 1.604 1.604.0 000-3.208zm3.45-2.567a1.604 1.604.0 100 3.208 1.604 1.604.0 000-3.208z" fill="currentColor" fill-rule="evenodd"/></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Request and Response Manipulation</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-5><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/request-response-manipulation/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Manipulation toolkit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/response-manipulation/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">API Composition and aggregation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/data-manipulation/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Basic data manipulation: Group, Filter, Map</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/content-replacer/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response manipulation with functions</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/jmespath/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response manipulation with queries</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/response-body-generator/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response manipulation with templates</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/serve-static-content/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response from filesystem</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/caching/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response caching</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/flatmap/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response manipulation on arrays</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/response-headers-modifier/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Response header modification</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/body-generator/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Request manipulation with templates</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/geoip/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Request enrichment with GeoIP</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/martian/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Requests and response static manipulation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/supported-encodings/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Origin response formats</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/content-types/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Returned response formats</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/gzip/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Gzip compression</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/status-codes/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Status Codes</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/detailed-errors/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Strategies to return headers and errors</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/static-proxy/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Static responses on failures (stubs)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/json-schema/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">JSON Schema request validation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/response-schema-validator/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">JSON Schema response validation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/maximum-request-size/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Maximum request size</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/workflows/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Workflows</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-6 data-hide="#doc-sections > li.nav-item > div" href=#menu-6 role=button aria-expanded=false aria-controls=menu-6 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" fill="none" fill-rule="evenodd"><path d="M15.906 10.358h-10.5c-1.087.0-1.968.862-1.968 1.925V18.7c0 1.063.88 1.925 1.968 1.925h10.5c1.088.0 1.969-.862 1.969-1.925v-6.417c0-1.063-.881-1.925-1.969-1.925z" stroke-width="1.375" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.063 10.358V5.867c0-2.481 2.056-4.492 4.593-4.492s4.594 2.011 4.594 4.492v4.491M3.438 15.492h14.438" stroke-width="1.375" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.719 13.246a.325.325.0 01-.328-.321c0-.177.147-.32.328-.32m0 .641a.325.325.0 00.328-.321.325.325.0 00-.328-.32" stroke-width="1.375"/><path d="M6.719 18.38a.325.325.0 01-.328-.322c0-.177.147-.32.328-.32m0 .642a.325.325.0 00.328-.322.325.325.0 00-.328-.32" stroke-width="1.369"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Security</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-6><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Security Overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/cors/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">CORS</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/tls/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">TLS</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/security/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP Security</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security/fips-140/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">FIPS-140</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security-policies/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Security Policies</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security-policies/policy-language/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Security policy language and syntax</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security-policies/advanced-policy-macros/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Security Policies macros</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security-policies/built-in-functions/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">CEL built-in functions</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/security-policies/playbook/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Playbook</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-7 data-hide="#doc-sections > li.nav-item > div" href=#menu-7 role=button aria-expanded=false aria-controls=menu-7 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M19.938 9.362c0 5.234-3.777 9.703-8.938 10.575A10.725 10.725.0 012.063 9.363V3.254c0-.658.533-1.192 1.191-1.192h15.492c.658.0 1.192.534 1.192 1.192v6.108zM2.063 5.638h17.875"/><path d="m15.17 9.212-4.345 4.345a.595.595.0 01-.842.0l-1.366-1.365"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Authentication & Authorization</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-7><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Intro to AuthZ and AuthN</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/api-keys/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">API-Key authentication</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/basic-authentication/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Basic Authentication</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/jwt-overview/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">JWT overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/jwt-validation/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">JWT Validation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/jwk-caching/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">JWK key caching</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/jwt-signing/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">JWT Signing</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/revoking-tokens/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Revoking tokens</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/revoke-server/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Revoke Server</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/multiple-identity-providers/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Multiple Identity Providers</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/mutual-authentication/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Mutual TLS Authentication (mTLS)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/client-credentials/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OAuth2 Client credentials</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/gcloud/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Google Cloud Authentication</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/auth0/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Auth0 integration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/aws-sigv4/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AWS SigV4 Authentication</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/descope/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Descope integration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authorization/keycloak/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Keycloak integration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/authentication/ntlm/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">NTLM authentication</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-8 data-hide="#doc-sections > li.nav-item > div" href=#menu-8 role=button aria-expanded=false aria-controls=menu-8 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M9.625 11a1.375 1.375.0 102.75.0 1.375 1.375.0 00-2.75.0m0-4.812a1.375 1.375.0 102.75.0 1.375 1.375.0 00-2.75.0m0 9.625a1.375 1.375.0 102.75.0 1.375 1.375.0 00-2.75.0"/><path d="M8.25 1.375h5.5s1.692.0 1.692 1.711v15.828s0 1.711-1.692 1.711h-5.5s-1.692.0-1.692-1.711V3.086s0-1.711 1.692-1.711M6.558 3.942H3.577a.828.828.0 00-.791.593.84.84.0 00.332.938l3.44 2.319m0 1.283H3.577a.828.828.0 00-.791.594.84.84.0 00.332.937l3.44 2.319m0 1.283H3.577a.828.828.0 00-.791.594.84.84.0 00.332.938l3.44 2.318M15.442 3.942h2.981c.364.0.686.24.791.593a.84.84.0 01-.332.938l-3.44 2.319M15.442 9.075h2.981c.364.0.686.241.791.594a.84.84.0 01-.332.937l-3.44 2.319M15.442 14.208h2.981c.364.0.686.241.791.594a.84.84.0 01-.332.938l-3.44 2.318"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Traffic Management</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-8><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Traffic Management Overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/load-balancing/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Load balancing</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/circuit-breaker/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Circuit Breaker</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/service-rate-limit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Service rate limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/rate-limit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Endpoint Rate Limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/tiered-rate-limit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Tiered Rate Limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/rate-limit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Proxy rate limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/cluster/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Cluster rate-limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/endpoint-redis-rate-limit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Redis-based endpoint rate limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/global-rate-limit/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Redis-based service rate limit</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/botdetector/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Bot detector</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/ipfilter/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">IP Filtering</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/token-bucket/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Understanding the Token Bucket</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/spike-arrest/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Understanding Spike Arrest and Burst</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-9 data-hide="#doc-sections > li.nav-item > div" href=#menu-9 role=button aria-expanded=false aria-controls=menu-9 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink"><title>icons/Docs/AI Gateway2</title><g id="icons/Docs/AI-Gateway2" stroke="none" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"><g id="Deepfake-Side--Streamline-Ultimate" stroke="currentColor" transform="translate(1, 1.2667)"><path d="M3.83202667 6.666664c1.10457333.0 2-.89542667 2-2 0-1.10456-.89542667-2-2-2-1.10456.0-2 .89544-2 2 0 1.10457333.89544 2 2 2z" id="Path" stroke-width="2"/><line x1="5.83202667" y1="4.666664" x2="12.9973333" y2="4.666664" id="Path" stroke-width="2"/><path d="M2 16.6666507c1.10457333.0 2-.895466700000002 2-2 0-1.1045334-.89542667-2-2-2-1.104573333.0-2 .895466600000001-2 2 0 1.1045333.895426667 2 2 2z" id="Path" stroke-width="2"/><line x1="4" y1="14.6666507" x2="12.9973333" y2="14.6666507" id="Path" stroke-width="2"/><path d="M3.83202667 26.6666507c1.10457333.0 2-.8954667 2-2 0-1.1045334-.89542667-2-2-2-1.10456.0-2 .895466599999999-2 2 0 1.1045333.89544 2 2 2z" id="Path" stroke-width="2"/><line x1="5.83333333" y1="24.6666507" x2="12.9973333" y2="24.6666507" id="Path" stroke-width="2"/><polyline id="Path" stroke-width="2" points="6.49869333 19.999984 9.16536 19.999984 9.16536 24.659184"/><line x1="8.41472" y1="9.99999733" x2="12.9973333" y2="9.99999733" id="Path" stroke-width="2"/><path d="M12.9973333.0c10.8.0 13.0666667 8.79999733 16.9333334 18.799984C30.1973333 19.599984 29.664 20.399984 28.864 20.399984h-2.8v4.5333333c0 2.5333334-2 4.5333334-4.5333333 4.5333334H12.9973333V0z" id="Path" stroke-width="2"/><path d="M22.0624 21.999984c.6666667 1.3333333 2.6666667 1.3333333 4 1.3333333" id="Path" stroke-width="2"/><path d="M21.3973333 13.5998507C21.2501333 13.5998507 21.1306667 13.4805173 21.1306667 13.333184c0-.1472.119466600000003-.2666667.266666600000001-.2666667" id="Path" stroke-width="2"/><path d="M21.3973333 13.5998507C21.5445333 13.5998507 21.664 13.4805173 21.664 13.333184c0-.1472-.1194667-.2666667-.266666700000002-.2666667" id="Path" stroke-width="2"/></g></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">AI Gateway</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-9><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AI Gateway Overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/security/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AI Gateway Security</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/budget-control/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AI Budget Control</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/governance/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AI Governance</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/unified-llm-interface/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Unified LLM Interface</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/llm-routing/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">LLM Routing</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/openai/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenAI</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/gemini/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Google Gemini</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/mistral/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Mistral</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/anthropic/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Anthropic</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/other-vendors/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Other AI vendors</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/ai-gateway/usage-monitoring/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AI Monitoring</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-10 data-hide="#doc-sections > li.nav-item > div" href=#menu-10 role=button aria-expanded=true aria-controls=menu-10 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal active"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22" fill="none"><path d="M9.4858 5.75029C8.66897 5.81956 7.23064 6.63783 6.87621 7.29733c-1.16672 2.17064-.26522 3.40097-.18567 3.54577C7.67329 12.6315 10.4876 12.8135 12.2248 13.4655 12.8375 13.6955 12.645 14.3561 12.4183 14.456 10.2197 15.4254 7.64502 13.5173 7.64502 13.5173S6.57348 15.1137 6 16.0143c1.2234.878 3.47486 1.3564 3.47486 1.3564V19H12.7631L12.7531 17.3421S14.7892 16.9144 15.5077 15.6121c1.0454-1.8952.119199999999999-3.4913.0-3.7242-.8208-1.6029-5.67855-2.15433-5.78083-2.76727C9.70016 8.96019 9.77247 8.56394 9.92561 8.49993 10.1113 8.42234 11.9126 7.8863 14.2399 9.40507 14.7783 8.56976 15.8125 6.94555 15.8125 6.94555s-1.2007-.99894-3.0494-1.26454c0-.69274.0-1.68101.0-1.68101H9.475S9.47472 4.95363 9.4858 5.75029z" stroke="currentColor"/></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Governance and Monetization</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative" id=menu-10><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/ class="block relative nav-link font-normal children text-brand-blue active">Usage Quota</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/moesif/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Moesif - Analytics and Monetization</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-11 data-hide="#doc-sections > li.nav-item > div" href=#menu-11 role=button aria-expanded=false aria-controls=menu-11 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M13.98 18.627H8.02l.597-3.505h4.766zm-7.746.0h9.533M3.85 3.438h14.3s1.788.0 1.788 1.752v8.179s0 1.753-1.788 1.753H3.85s-1.788.0-1.788-1.753V5.19s0-1.753 1.788-1.753"/><path d="M17.302 9.28h-1.971a.299.299.0 01-.248-.13l-2.011-2.957a.3.3.0 00-.514.032l-3.116 6.11a.3.3.0 01-.514.031L6.918 9.41a.299.299.0 00-.249-.13H4.194"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Monitoring, Logs, and Analytics</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-11><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Metrics and Traces overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/opentelemetry/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenTelemetry</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/opentelemetry-layers-metrics/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenTelemetry - Layers and Metrics</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/opentelemetry-by-endpoint/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenTelemetry by Endpoint</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/opentelemetry-security/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenTelemetry - SaaS auth</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/prometheus/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Prometheus</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/grafana/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Grafana Dashboard</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/influxdb/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">InfluxDB</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/opencensus/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenCensus (frozen)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/datadog/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Datadog</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/zipkin/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Zipkin</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/jaeger/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Jaeger</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/xray/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">AWS X-Ray</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/stackdriver/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Google Cloud</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/azure/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Azure Monitor</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/newrelic/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">New Relic</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/logging/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Logging overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/logging/graylog-gelf/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Logging to Graylog - GELF</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/logging/logstash/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Logging in JSON (Logstash)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/logging/elk-integration/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Logging Dashboard (ELK)</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/telemetry/extended-metrics/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Metrics API</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/health/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Health check endpoint</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-12 data-hide="#doc-sections > li.nav-item > div" href=#menu-12 role=button aria-expanded=false aria-controls=menu-12 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd"><g stroke-linecap="round" stroke-linejoin="round"><path d="M8.446 20.625H3.978A1.92 1.92.0 012.062 18.7M17.383 8.433V5.454L13.71 1.778a1.375 1.375.0 00-.973-.403H4.616h0A2.56 2.56.0 002.063 3.942V18.7"/></g><path d="M17.6 18.56c.129.0.233-.103.233-.23a.232.232.0 00-.233-.229m0 .459a.232.232.0 01-.234-.23c0-.126.105-.229.234-.229"/><path d="M9.187 11.91c.775.0 1.402-.616 1.402-1.376s-.627-1.376-1.402-1.376h-3A3.732 3.732.0 019.319 6.89a3.762 3.762.0 013.49 1.692 3.61 3.61.0 01.067 3.818l3.873 3.798a2.361 2.361.0 012.808.88 2.26 2.26.0 01-.303 2.877 2.37 2.37.0 01-2.933.296 2.27 2.27.0 01-.894-2.756l-3.873-3.8a3.802 3.802.0 01-3.1.315 3.71 3.71.0 01-2.265-2.1h3z" stroke-linecap="round" stroke-linejoin="round"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">API Documentation and Dev Tools</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-12><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Developer Tools</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/debug-endpoint/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Debug endpoint</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/echo-endpoint/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Echo endpoint</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/backends/http-logger/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP logger</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/openapi/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenAPI - Import and Export</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/openapi/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">OpenAPI - Endpoint documentation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/api-docs/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Generate API documentation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/postman/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Postman collection generation</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/config2dot/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">PNG representing your config</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/ide-integration/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">IDE integration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/developer/integration-tests/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">End-to-End tests</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-13 data-hide="#doc-sections > li.nav-item > div" href=#menu-13 role=button aria-expanded=false aria-controls=menu-13 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M9.82 20.625H5.354A1.92 1.92.0 013.438 18.7"/><path d="M9.39 20.625h7.453a1.92 1.92.0 001.915-1.925m0-.137V5.454l-3.673-3.676a1.375 1.375.0 00-.973-.403H5.99h0A2.56 2.56.0 003.437 3.942V18.7"/><g><path d="m13.21 7.563 3.192 3.208-3.192 3.208M9.38 7.563 6.186 10.77l3.192 3.208"/></g></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Extending with custom code</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-13><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">How to extend KrakenD?</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/writing-plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Writing plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/generating-plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Plugin generator</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/check-plugin/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Check plugin dependencies</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/test-plugin/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Testing your plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Enterprise plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/injecting-plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Injecting plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/http-server-plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP server plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/http-client-plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">HTTP client plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/plugin-modifiers/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Req/resp modifier plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/extending/middleware-plugins/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Middleware plugins</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/lua/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Lua scripts</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/lua-advanced-helpers/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Lua advanced helpers</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-14 data-hide="#doc-sections > li.nav-item > div" href=#menu-14 role=button aria-expanded=false aria-controls=menu-14 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M9.718 7.027a1.698 1.698.0 012.549.118M8.032 3.942h5.935M11 16.133v4.492"/><path d="M14.192 20.625H7.808L7.17 7.15c0-2.126 1.715-5.775 3.83-5.775s3.83 3.649 3.83 5.775l-.638 13.475z"/><path d="m14.714 9.614 4.352 3.828c.554.487.871 1.19.872 1.93v2.686a1.28 1.28.0 01-1.277 1.284h-4.409M7.286 9.614l-4.352 3.828a2.572 2.572.0 00-.872 1.93v2.686a1.28 1.28.0 001.277 1.284h4.409"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Deployment and Go-Live</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-14><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/deploying/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Best practices</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/deploying/clustering/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Running in a cluster</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/deploying/server-dimensioning/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Server requirements</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/deploying/ci-cd/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">CI/CD integration</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/deploying/docker/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Docker artifact</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/deploying/kubernetes/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">To Kubernetes</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-15 data-hide="#doc-sections > li.nav-item > div" href=#menu-15 role=button aria-expanded=false aria-controls=menu-15 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M6.933 5.57 3.747 8.787m9.088-2.255-3.71-.995M17.666 3.78l-2.844 2.247M6.83 5.072c0 .43.226.827.595 1.042s.823.215 1.192.0c.368-.215.595-.612.595-1.042.0-.665-.533-1.204-1.191-1.204s-1.192.539-1.192 1.204M17.554 3.266c0 .665.534 1.204 1.192 1.204s1.192-.539 1.192-1.204c0-.665-.534-1.204-1.192-1.204s-1.192.54-1.192 1.204M12.787 6.877c0 .43.228.828.596 1.043.369.215.823.215 1.192.0s.596-.613.596-1.043c0-.664-.534-1.203-1.192-1.203s-1.191.539-1.191 1.203M2.063 9.887c0 .664.533 1.203 1.191 1.203s1.192-.539 1.192-1.203c0-.665-.534-1.204-1.192-1.204-.658.0-1.192.539-1.192 1.204M2.063 20.119h17.875M6.233 15.705H3.85a.607.607.0 00-.596.601v3.812H6.83v-3.812a.599.599.0 00-.596-.601zm5.959-5.618H9.808a.607.607.0 00-.595.602v9.43h3.575v-9.43a.599.599.0 00-.596-.602zm5.958 3.21h-2.383a.607.607.0 00-.596.602v6.22h3.575v-6.22a.599.599.0 00-.596-.602z"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Benchmarks</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-15><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/benchmarks/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Benchmarks Overview</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/benchmarks/api-gateway-benchmark/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">KrakenD vs others</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/benchmarks/aws/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">On Amazon Web Services</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/benchmarks/local/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Local machine</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-16 data-hide="#doc-sections > li.nav-item > div" href=#menu-16 role=button aria-expanded=false aria-controls=menu-16 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M13.383 6.83H9.808V3.85c0-.987.8-1.788 1.788-1.788h0c.987.0 1.787.8 1.787 1.788v2.98zM5.24 15.965v1.59l-1.589 2.383-1.588-2.384v-9.93c0-.878.71-1.59 1.588-1.59h0c.878.0 1.59.712 1.59 1.59v4.766m13.544 4.839 1.152 1.517"/><path d="M2.063 15.965h4.17l7.15-9.136 5.736 8.342c.46.664.313 1.573-.333 2.057h0a1.502 1.502.0 01-2.122-.325l-5.283-7.404M9.808 6.83 5.24 12.39H2.062"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Design principles</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-16><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/design/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">The big picture</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/design/backend-for-frontend/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Backend For Frontend</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/design/zero-trust/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Zero-trust security</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/overview/lura-vs-krakend/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Lura vs. KrakenD</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/design/execution-flow/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">The execution flow</a></li></ul></div></li><li class=nav-item><a data-toggle=collapse data-target=#menu-17 data-hide="#doc-sections > li.nav-item > div" href=#menu-17 role=button aria-expanded=false aria-controls=menu-17 class="ease-linear duration-500 transition-all flex items-center text--sm leading-6 group nav-link parent text-brand-blue-900 dark:text-white font-normal"><div class=flex><span class="inline-block nav-item-icon mr-1.5 text-brand-neutral-300"><svg width="22" height="22" viewBox="0 0 22 22"><g stroke="currentColor" stroke-width="1.375" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M5.313 12.613V8.045c0-.63.53-1.142 1.185-1.142h1.184M5.313 10.329H7.09m2.486 2.284V8.045a1.134 1.134.0 01.583-1.014c.371-.21.832-.21 1.203.0.371.21.594.599.583 1.014v4.568m-2.37-2.284h2.37m4.739 1.141c.011.415-.212.804-.583 1.014-.371.21-.832.21-1.203.0a1.134 1.134.0 01-.583-1.014V8.045a1.134 1.134.0 01.583-1.014c.371-.21.832-.21 1.203.0.37.21.594.599.583 1.014v3.425zm-1.186 1.143 1.187 1.141"/><path d="M19.1 4.125H2.897c-.462.002-.834.362-.834.807v10.403c0 .445.372.806.834.807h1.94a5.855 5.855.0 01-1.1 2.42c2.422.033 3.955-.87 4.875-2.42H19.1c.463.0.837-.361.837-.807V4.932c0-.446-.374-.807-.837-.807z"/></g></svg></span></div><div class="flex items-center"><span class="font-medium nav-title">Frequently Asked Questions</span>
<svg width="18" height="18" viewBox="0 0 18 18" class="text-black dark:text-white nav-link__arrow transition-transform duration-200 inline group-[.active]:rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg></div></a><div class="menu pl-7 mt-3 text-sm relative hidden" id=menu-17><ul class="nav flex-column"><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/faq/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">KrakenD F.A.Q</a></li><li class="pt-2.5 first:pt-0 relative nav-item child"><a href=https://www.krakend.io/docs/enterprise/v2.11/faq/switch-versions/ class="block relative nav-link font-normal children text-black/70 dark:text-brand-neutral-300 hover:text-black dark:hover:text-white">Switch to Community or Enterprise</a></li></ul></div></li></ul></div></div><script type=text/javascript>if(localStorage.getItem("sidebar")==="collapsed"&&window.innerWidth>767){const e=document.querySelector(".collapse-sidebar");if(e){e.classList.add("collapsed");const t=e.querySelector(".menu:not(.hidden)");t&&t.classList.add("hidden")}}</script><div class="relative prose prose-th:text-left dark:prose-invert max-w-full article flex-1 md:w-0"><article id=content><div class="bg-brand-red/15 border-brand-red border rounded-md p-2 text--sm text-brand-red dark:text-white mb-3"><div class="flex gap-2"><svg class="text-brand-red h-6 w-6 inline shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54.0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464.0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg><div><span>You are viewing a previous version of KrakenD Enterprise Edition (v2.11), go to the</span>
<a href=https://www.krakend.io/docs/enterprise/governance/quota/ title="API Governance using Quota"><span class="font-bold text-brand-red dark:text-white underline">latest version</span></a></div></div></div><p class="text--sm text-brand-neutral-300 mt-0 mb-2.5 font-medium">Document updated on May 9, 2025</p><h1 class="text-3xl lg:text-4xl mb-5">API Governance using Quota</h1><p>The Quota feature allows teams to enforce quota limits by tier, enabling API monetization strategies such as freemium plans, usage-based tiers, and differentiated service levels, but also helps you <strong>contain the expenses</strong> when using external APIs or AI providers.</p><p>The Quota system is equally powerful in <strong>egress and ingress scenarios</strong>:</p><ul><li>On the <strong>egress side</strong>, organizations can enforce internal consumption controls. For instance, when KrakenD acts as an <strong>AI Gateway</strong> proxying to LLM models or metered third-party APIs. By applying quotas per team, product, etc, you can <strong>prevent runaway spend</strong>, cap daily/weekly/monthly/yearly usage, or restrict access to premium services, keeping your operational budget under control.</li><li>On the <strong>ingress side</strong>, when exposing public APIs, quotas become the foundation of <strong>monetization models</strong>. You can define consumption tiers (e.g., Free, Pro, Enterprise), enforce usage ceilings based on subscription level, and enable freemium or trial plans with precision. This protects your backend infrastructure from abuse and creates opportunities to align API usage with business value, enabling pay-per-use, overage billing, and developer self-service models, all driven by configuration.</li></ul><p>Quotas use <strong>persistence backed by Redis</strong>, which survives deployments and restarts, and serves as a central point for tracking activity.</p><h2 id=quotas-vs-rate-limiting>Quotas vs Rate Limiting</h2><p>There are <a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/#rate-limiting>8 types of rate-limiting</a>, but here we are talking about something close but not the same. It is important to understand that although quotas and rate-limits seem similar, they serve different purposes. Traditional <a href=https://www.krakend.io/docs/enterprise/v2.11/throttling/>throttling and rate-limiting</a> in KrakenD (like the <a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/service-rate-limit/>service</a>, <a href=https://www.krakend.io/docs/enterprise/v2.11/endpoints/rate-limit/>endpoint</a>, <a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/tiered-rate-limit/>tiered</a>, or <a href=https://www.krakend.io/docs/enterprise/v2.11/backends/rate-limit/>proxy</a> rate-limits) operate in-memory per-node, and they are <strong>stateless and fast</strong>.</p><div class="rounded-lg border border-brand-green overflow-auto"><div class="note-brand-green flex gap-2.5 items-center text-sm text-brand-green bg-brand-green/15 px-3 py-2"><svg width="20" height="24" fill="none"><path d="M3.46173 2.1747l8.65367.00122C12.912 2.17592 13.5566 2.86776 13.5566 3.72L13.5543 20.7074C13.5548 20.8604 13.5128 21.0101 13.4336 21.1374 13.3544 21.2648 13.2417 21.3641 13.1098 21.4226 12.9778 21.4811 12.8326 21.4963 12.6926 21.4662 12.5526 21.4361 12.4241 21.362 12.3234 21.2535L7.78859 16.8453 3.25144 21.2535C3.15075 21.3616 3.02235 21.4353 2.88252 21.4652 2.7427 21.495 2.59775 21.4798 2.46603 21.4213 2.33432 21.3628 2.22179 21.2637 2.14269 21.1366 2.06359 21.0095 2.02149 20.8601 2.02173 20.7074V3.71756C2.02203 3.30846 2.17384 2.91622 2.44383 2.62695c.26999-.28927.63608-.45193 1.0179-.45225z" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>
<span>Difference between Quotas and Rate Limits</span></div><div class="border-t border-brand-green p-3 pl-10 dark:text-white note text-sm"><p>The purpose of a rate limit is to <strong>prevent abuse</strong> because it monitors a short period (like a second or minute). In contrast, the purpose of a quota is more closely related to <strong>usage control</strong> as it monitors a longer period (a day, month, etc.).</p><p>A rate limit will cut traffic when there are many connections per second, while the quota might cut you when you spend your monthly plan.</p><p>They might be used together and are complementary.</p></div></div><h3 id=architectural-differences>Architectural differences</h3><p>If you want to limit the API&rsquo;s usage alone, a stateless rate-limiting is the best design architectural pattern you can choose. But if you need more, a rate limit has the following <strong>business limitations</strong>:</p><ul><li>You don&rsquo;t have a long-term global state.</li><li>Limit exhaustion does not survive service restarts or redeployments.</li><li>Complicated monetization or <strong>contractual enforcement</strong>.</li><li>It is not designed to track usage over long periods (but close to a second).</li></ul><p>In contrast, the persistent <strong>quota system</strong>:</p><ul><li>Shares state across all KrakenD nodes via Redis, making all nodes aware of the global counting in a cluster.</li><li>Supports long-term with low-use definitions, e.g., 1000 calls/month (in contrast to 10 calls/second).</li><li>Allows custom weighting of requests (e.g., based on LLM token cost, or API cost).</li><li>Enables parallel multi-interval policies (hourly, daily, monthly, yearly), counting all at once.</li><li>It is the foundation for API monetization, freemium models, and service-level enforcement.</li></ul><p>It&rsquo;s not that one is better than the other; they serve very different goals.</p><h2 id=quota-configuration>Quota Configuration</h2><p>The quota system requires at least three configuration blocks:</p><ol><li>A <code>redis</code> entry with the <strong><a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/redis-connection-pools/>connection details</a></strong> at the <code>extra_config</code> of the service level</li><li>A <code>governance/processors</code> entry that defines the <strong>global declaration of quota processors</strong> that are responsible for keeping track of counters and rejecting requests.</li><li>A <code>governance/quota</code> entry that <strong>attaches a processor and enforces the quota</strong>. You can attach this namespace to the service (root of the configuration), or inside endpoints and backends.</li></ol><p>The differences and nuances are explained below.</p><h3 id=1-redis-connection-details>1. Redis connection details</h3><p>As quotas are stateful, they require storage. The counters are kept in a shared <code>redis</code> configuration that you need to place at the root of the configuration. Here&rsquo;s an example configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;$schema&#34;</span><span class=p>:</span> <span class=s2>&#34;https://www.krakend.io/schema/v2.11/krakend.json&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;extra_config&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;redis&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;connection_pools&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;shared_redis_pool&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;address&#34;</span><span class=p>:</span> <span class=s2>&#34;192.168.1.45:6379&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Redis connection pools and clusters are fully explained in the <a href=https://www.krakend.io/docs/enterprise/v2.11/service-settings/redis-connection-pools/>Redis Connection Pool</a> section. Visit the link for more parameters and customization. What is important here is that the <code>name</code> you choose here, which is internal for KrakenD and can be anything human-readable for you, is the one you use later on when defining the processor.</p><h3 id=2-global-declaration-of-quota-processors>2. Global declaration of quota processors</h3><p>The second thing you need at the service level is to define a <strong>processor of quota</strong>. The <code>governance/processors</code> property is an object under the global <code>extra_config</code> that defines the available processors and rulesets you will have. You can declare multiple quotas (e.g., a quota for internal LLM usage and another for your customers), and they can be connected to different Redis pools. Each quota defines multiple <code>rules</code> to enforce; you can see them as your &ldquo;plans&rdquo;, like &ldquo;gold&rdquo;, &ldquo;silver&rdquo;, &ldquo;bronze&rdquo;, etc. Each rule or plan can have multiple limits, because you might want to set limitations per hour, day, month, etc.</p><p>The processors take care of <strong>bookkeeping hits and denying access</strong> when a threshold is met. Still, they don&rsquo;t know anything about requests or how to identify a user, which will be the job of our last component, the <code>governance/quota</code>. The gateway can keep multiple processors working simultaneously, even when they are of the same type.</p><p>See the following example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;extra_config&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;governance/processors&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;quotas&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;public_plans&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;connection_name&#34;</span><span class=p>:</span> <span class=s2>&#34;shared_redis_pool&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;hash_keys&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;on_failure_allow&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;rejecter_cache&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;N&#34;</span><span class=p>:</span> <span class=mi>10000000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;P&#34;</span><span class=p>:</span> <span class=mf>1e-8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;hash_name&#34;</span><span class=p>:</span> <span class=s2>&#34;optimal&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;rules&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;gold&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;limits&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;hour&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;day&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>              <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;bronze&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;limits&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;hour&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;day&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>              <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The configuration above defines a processor that will connect to a Redis service defined as <code>shared_redis_pool</code>, and will prefix all keys with <code>public_plans</code>. There is one rule for the gold plan and another for the bronze plan, which is limited to half of the requests. In addition, it has a <code>rejecter_cache</code> where a local memory cache keeps track of rejections by Redis, so it is not queried that often, and a known overuser is kicked without needing to query Redis and avoid the network roundtrip.</p><p>At this point, the quotas are not in place yet; they are only declared, and we need to attach them to specific places.</p><p>The list of possible properties to declare quotas is:</p><div class="w-full border overflow-auto dark:border-brand-blue-800 rounded-lg bg-gray-100 dark:bg-brand-neutral-900 shadow--xs mb-5 dark:text-brand-neutral-300"><div class="text-sm p-3 sm:px-5 sm:flex sm:justify-between"><div class=flex><h5>Fields of Governance processors.</h5></div><div class="mt-4 sm:mt-0"><span class=text-brand-red>*</span> required fields</div></div><div class="bg-white dark:bg-brand-blue-900 border-y dark:border-brand-blue-800 w-full"><p class="m-4 empty:m-0"></p><dl class="space-y-4 divide-y divide-gray-100 dark:divide-brand-blue-800 nomargin json-schema-render"><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#quotas class=copy-link title="Click to copy link to quotas"><code>quotas</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">array</span></h5></dt><dd class="pl-5 text-sm pr-5">The list of quota processors available for attachment. You can have multiple processors with different configurations.<div id=quotas-419f0 class=pt-3>Each item of quotas accepts the following properties:<dl class="space-y-4 divide-y divide-gray-100 dark:divide-brand-blue-800 nomargin json-schema-render border-l ml-4 dark:border-l-brand-blue-800"><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-connection_name title class="inline text-base"><a href=#quotas-connection_name class=copy-link title="Click to copy link to connection_name"><code>connection_name</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">The name of the <a href=https://www.krakend.io/docs/enterprise/service-settings/redis-connection-pools/>Redis connection</a> to use, it must exist under the <code>redis</code> namespace at the service level and written exactly as declared.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-deny_queue_flush_interval title class="inline text-base"><a href=#quotas-deny_queue_flush_interval class=copy-link title="Click to copy link to deny_queue_flush_interval"><code>deny_queue_flush_interval</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">When you have a <code>rejecter_cache</code>, the time interval to write the events stored in the buffer in the bloom filter. This is the maximum time that can elapse before the events are written to the bloom filter.<div class="pl-3 pt-3 space-y-3"><div>Specify units using <code>ns</code> (nanoseconds), <code>us</code> or <code>µs</code> (microseconds), <code>ms</code> (milliseconds), <code>s</code> (seconds), <code>m</code> (minutes), or <code>h</code> (hours).</div><div>Defaults to <code>"1s"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-deny_queue_flush_threshold title class="inline text-base"><a href=#quotas-deny_queue_flush_threshold class=copy-link title="Click to copy link to deny_queue_flush_threshold"><code>deny_queue_flush_threshold</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">integer</span></h5></dt><dd class="pl-5 text-sm">When you have a <code>rejecter_cache</code>, the maximum number of events in the buffer that will force a write to the bloom filter event when the flush interval has not kicked in yet.<div class="pl-3 pt-3 space-y-3"><div>Defaults to <code>10</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-deny_queue_size title class="inline text-base"><a href=#quotas-deny_queue_size class=copy-link title="Click to copy link to deny_queue_size"><code>deny_queue_size</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">integer</span></h5></dt><dd class="pl-5 text-sm">When you have a <code>rejecter_cache</code>, the size of the buffer (number of events stored) to write in the bloomfilter. It defaults to the number of cores on the machine. This is the maximum number of events that can be stored in memory before being written to the bloom filter. You should not set this value unless you are seeing increased latencies on very high-concurrency scenarios; ask support for help.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-hash_keys title class="inline text-base"><a href=#quotas-hash_keys class=copy-link title="Click to copy link to hash_keys"><code>hash_keys</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">boolean</span></h5></dt><dd class="pl-5 text-sm">Whether to hash the keys used for quota consumption. If you have PII (Personal Identifiable Information) in the keys (like an email), enable this option to <code>true</code> to avoid Redis containing clear text keys with PII. This is a setting for privacy, enabling it may affect performance because of the extra hashing, and makes data exploration difficult.<div class="pl-3 pt-3 space-y-3"><div>Defaults to <code>false</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-name title class="inline text-base"><a href=#quotas-name class=copy-link title="Click to copy link to name"><code>name</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">Name of the quota. The exact name you type here is the one you need to reference when you attach a quota under the <code>governance/quota</code> namespace, and is also part of the key name on the persistence layer.<div class="pl-3 pt-3 space-y-3"><div>Examples: <code>"public_api"</code> , <code>"LLM"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-on_failure_allow title class="inline text-base"><a href=#quotas-on_failure_allow class=copy-link title="Click to copy link to on_failure_allow"><code>on_failure_allow</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">boolean</span></h5></dt><dd class="pl-5 text-sm">What to do with the user request if Redis is down. When <code>true</code>, allows continuing to perform requests even when Redis is unreachable, but the quota won&rsquo;t be counted. When <code>false</code>, the request is rejected and the user receives a 500 error. This is a fail-safe option, but it may lead to quota overconsumption.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-on_failure_backoff_strategy title class="inline text-base"><a href=#quotas-on_failure_backoff_strategy class=copy-link title="Click to copy link to on_failure_backoff_strategy"><code>on_failure_backoff_strategy</code></a></h5></dt><dd class="pl-5 text-sm">The backoff strategy to use when Redis is unreachable. The default is <code>exponential</code>, which means that the time between retries will increase exponentially. The other option is <code>linear</code>, which means that the time between retries will be constant.<div class="pl-3 pt-3 space-y-3"><div>Possible values are: <code>"linear"</code> , <code>"exponential"</code></div><div>Defaults to <code>"exponential"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-on_failure_max_retries title class="inline text-base"><a href=#quotas-on_failure_max_retries class=copy-link title="Click to copy link to on_failure_max_retries"><code>on_failure_max_retries</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">integer</span></h5></dt><dd class="pl-5 text-sm">Maximum number of retries to Redis when it is unreachable. Once the retries are exhausted, the processor is no longer usable and the quota stops working until the Redis connection is restored and the service restarted. The users will be able to consume content depending on the <code>on_failure_allow</code> option. A zero value means no retries.<div class="pl-3 pt-3 space-y-3"><div>Defaults to <code>0</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-rejecter_cache title class="inline text-base"><a href=#quotas-rejecter_cache class=copy-link title="Click to copy link to rejecter_cache"><code>rejecter_cache</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">object</span></h5></dt><dd class="pl-5 text-sm">The bloom filter configuration that you use to cache rejections. The bloom filter is used to store the events that are rejected by the quota processor. This is useful to avoid rejecting the same event multiple times.<div id=rejecter_cache-638d7 class=pt-3><dl class="space-y-4 nomargin json-schema-render border-l ml-4 dark:border-l-brand-blue-800"><div><dt class="pl-5 whitespace-nowrap"><h5 id=rejecter_cache-N title="Number of elements" class="inline text-base"><a href=#rejecter_cache-N class=copy-link title="Click to copy link to N"><code>N</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">integer</span></h5></dt><dd class="pl-5 text-sm">The maximum <code>N</code>umber of elements you want to keep in the bloom filter. Tens of millions work fine on machines with low resources.<div class="pl-3 pt-3 space-y-3"><div>Example: <code>10000000</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=rejecter_cache-P title=Probability class="inline text-base"><a href=#rejecter_cache-P class=copy-link title="Click to copy link to P"><code>P</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">number</span></h5></dt><dd class="pl-5 text-sm">The <code>P</code>robability of returning a false positive. E.g.,<code>1e-7</code> for one false positive every 10 million different tokens. The values <code>N</code> and <code>P</code> determine the size of the resulting bloom filter to fulfill your expectations. E.g: 0.0000001<br><br><br><br>See: <a href=https://www.krakend.io/docs/authorization/revoking-tokens/>https://www.krakend.io/docs/authorization/revoking-tokens/</a><div class="pl-3 pt-3 space-y-3"><div>Examples: <code>1e-7</code> , <code>1e-7</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=rejecter_cache-cleanup_interval title class="inline text-base"><a href=#rejecter_cache-cleanup_interval class=copy-link title="Click to copy link to cleanup_interval"><code>cleanup_interval</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">The time interval to clean up the bloom filter. This is the maximum time that can elapse before the bloom filter is cleaned up.<div class="pl-3 pt-3 space-y-3"><div>Specify units using <code>ns</code> (nanoseconds), <code>us</code> or <code>µs</code> (microseconds), <code>ms</code> (milliseconds), <code>s</code> (seconds), <code>m</code> (minutes), or <code>h</code> (hours).</div><div>Defaults to <code>"30m"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=rejecter_cache-hash_name title="Hash function name" class="inline text-base"><a href=#rejecter_cache-hash_name class=copy-link title="Click to copy link to hash_name"><code>hash_name</code></a></h5></dt><dd class="pl-5 text-sm">Either <code>optimal</code> (recommended) or <code>default</code>. The <code>optimal</code> consumes less CPU but has less entropy when generating the hash, although the loss is negligible.<br><br><br><br>See: <a href=https://www.krakend.io/docs/authorization/revoking-tokens/>https://www.krakend.io/docs/authorization/revoking-tokens/</a><div class="pl-3 pt-3 space-y-3"><div>Possible values are: <code>"optimal"</code> , <code>"default"</code></div><div>Defaults to <code>"optimal"</code></div></div></dd></div></dl></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quotas-rules title class="inline text-base"><a href=#quotas-rules class=copy-link title="Click to copy link to rules"><code>rules</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">array</span></h5></dt><dd class="pl-5 text-sm">The rules to use for the quota processor.<div id=rules-652f6 class=pt-3>Each item of rules accepts the following properties:<dl class="space-y-4 nomargin json-schema-render border-l ml-4 dark:border-l-brand-blue-800"><div><dt class="pl-5 whitespace-nowrap"><h5 id=rules-limits title class="inline text-base"><a href=#rules-limits class=copy-link title="Click to copy link to limits"><code>limits</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">array</span>
<button data-toggle=collapse data-target=#limits-36d69 class="pr-2 font-normal text-xxs align-middle ml-2 group dark:text-white rounded-full bg-gray-100 dark:bg-brand-neutral-900">
<svg width="18" height="18" viewBox="0 0 18 18" class="inline transition-transform rotate-90 group-[.active]:-rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg>
Show properties</button></h5></dt><dd class="pl-5 text-sm">The limits for the rule. The limits are defined as an array of objects, each object containing an amount and a unit.<div class="pl-3 pt-3 space-y-3"><div>Example: <code>[{"amount":10,"unit":"hour"},{"amount":250,"unit":"day"}]</code></div></div><div id=limits-36d69 class="hidden pt-3">Each item of limits accepts the following properties:<dl class="space-y-4 nomargin json-schema-render border-l ml-4 dark:border-l-brand-blue-800"><div><dt class="pl-5 whitespace-nowrap"><h5 id=limits-amount title class="inline text-base"><a href=#limits-amount class=copy-link title="Click to copy link to amount"><code>amount</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">number</span></h5></dt><dd class="pl-5 text-sm">The amount of the limit. This is the maximum number of requests that can be made in the given time unit.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=limits-unit title class="inline text-base"><a href=#limits-unit class=copy-link title="Click to copy link to unit"><code>unit</code>
</a><span class="text-red-600 text-xl font-bold">*</span></h5></dt><dd class="pl-5 text-sm">The time unit for the limit.<div class="pl-3 pt-3 space-y-3"><div>Possible values are: <code>"second"</code> , <code>"minute"</code> , <code>"hour"</code> , <code>"day"</code> , <code>"week"</code> , <code>"month"</code> , <code>"year"</code></div></div></dd></div></dl></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=rules-name title class="inline text-base"><a href=#rules-name class=copy-link title="Click to copy link to name"><code>name</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">The name of the rule. This is the name that will be used to identify the rule in the logs and metrics. It is also the plan name.<div class="pl-3 pt-3 space-y-3"><div>Examples: <code>"gold"</code> , <code>"silver"</code></div></div></dd></div></dl></div></dd></div></dl></div></dd></div></dl></div><div class="text-sm p-2">Schema: <a class=text-sm href=https://www.krakend.io/schema/v2.11/governance/processors.json title="JSON schema definition">https://www.krakend.io/schema/v2.11/governance/processors.json</a></div></div><h3 id=3-attach-a-quota>3. Attach a quota</h3><p>Once the quotas are declared at a global level, it&rsquo;s time to attach them. The <code>governance/quota</code> namespace is the quota enforcer that you can add to the service globally, on endpoints, or backends. As you can see below, it reuses the <code>quota_name</code> and the <code>rule_name</code> you declared previously, but also adds bits of behaviour, like how to count requests and what to do with unknown requests.</p><p>Here is an example of the full configuration with steps 1 to 3:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;extra_config&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;redis&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;connection_pools&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;shared_redis_pool&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;address&#34;</span><span class=p>:</span> <span class=s2>&#34;192.168.1.45:6379&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;governance/processors&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;quotas&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;public_plans&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;connection_name&#34;</span><span class=p>:</span> <span class=s2>&#34;shared_redis_pool&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;hash_keys&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;on_failure_allow&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;rejecter_cache&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;N&#34;</span><span class=p>:</span> <span class=mi>10000000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;P&#34;</span><span class=p>:</span> <span class=mf>1e-8</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;hash_name&#34;</span><span class=p>:</span> <span class=s2>&#34;optimal&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;rules&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_gold&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;limits&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;hour&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;day&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>              <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_bronze&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;limits&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;hour&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>                  <span class=p>{</span> <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span> <span class=nt>&#34;unit&#34;</span><span class=p>:</span> <span class=s2>&#34;day&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>              <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;governance/quota&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;quota_name&#34;</span><span class=p>:</span> <span class=s2>&#34;public_plans&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;on_unmatched_tier_allow&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;weight_key&#34;</span><span class=p>:</span> <span class=s2>&#34;credits_consumed&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;weight_strategy&#34;</span><span class=p>:</span> <span class=s2>&#34;body&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tier_key&#34;</span><span class=p>:</span> <span class=s2>&#34;X-Level&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;disable_quota_headers&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tiers&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;rule_name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_gold&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;tier_value&#34;</span><span class=p>:</span> <span class=s2>&#34;gold&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;tier_value_as&#34;</span><span class=p>:</span> <span class=s2>&#34;literal&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;strategy&#34;</span><span class=p>:</span> <span class=s2>&#34;header&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;X-User-Id&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;comment&#34;</span><span class=p>:</span> <span class=s2>&#34;Special case * that catches any requests not falling into one of the tiers above&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;rule_name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_bronze&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;tier_value_as&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;strategy&#34;</span><span class=p>:</span> <span class=s2>&#34;ip&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This example is for the service level, but you can put the <code>governance/quota</code> namespace in an endpoint or in a <code>backend</code> as well. You will probably want to add a <code>governance/quota</code> in the following scope when:</p><ul><li><code>service</code>: You don&rsquo;t need to identify tiers based on JWT and want a single configuration for all the endpoints, no exceptions. At the service level, <strong>everything is inspected for quota</strong>, even a single <code>/__health</code> request.</li><li><code>endpoint</code>: In most cases, you want to add <strong>ingress quota</strong> to your API contract. Use <a href=https://www.krakend.io/docs/enterprise/v2.11/configuration/flexible-config/>Flexible Configuration</a> to avoid repeating code on every endpoint needing quota.</li><li><code>backend</code>: In cases where you want to put a quota between the gateway and upstream services or LLM (<strong>egress quota</strong>)</li></ul><p>Notice that the concepts of ingress and egress are for illustration, but they are open to interpretation. Having an external user limited to consuming an external LLM through KrakenD could be both ingress and egress.</p><p>If a referenced processor or rule is missing, the config fails, and affected endpoints return <code>500</code> status codes.</p><p>The attributes you can see here are:</p><div class="w-full border overflow-auto dark:border-brand-blue-800 rounded-lg bg-gray-100 dark:bg-brand-neutral-900 shadow--xs mb-5 dark:text-brand-neutral-300"><div class="text-sm p-3 sm:px-5 sm:flex sm:justify-between"><div class=flex><h5>Fields of Attachment of a quota</h5></div><div class="mt-4 sm:mt-0"><span class=text-brand-red>*</span> required fields</div></div><div class="bg-white dark:bg-brand-blue-900 border-y dark:border-brand-blue-800 w-full"><p class="m-4 empty:m-0"></p><dl class="space-y-4 divide-y divide-gray-100 dark:divide-brand-blue-800 nomargin json-schema-render"><div><dt class="pl-5 whitespace-nowrap"><h5 id=disable_quota_headers title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#disable_quota_headers class=copy-link title="Click to copy link to disable_quota_headers"><code>disable_quota_headers</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">boolean</span></h5></dt><dd class="pl-5 text-sm pr-5">When set to <code>true</code>, the quota headers <code>X-Quota-Limit</code>, <code>X-Quota-Remaining</code>, and <code>Retry-After</code> will not be added to the response. This is useful when you want to hide the quota information from the client.<div class="pl-3 pt-3 space-y-3"><div>Defaults to <code>false</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=on_unmatched_tier_allow title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#on_unmatched_tier_allow class=copy-link title="Click to copy link to on_unmatched_tier_allow"><code>on_unmatched_tier_allow</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">boolean</span></h5></dt><dd class="pl-5 text-sm pr-5">When a tier cannot be infered from the request, whether to allow the request to continue or not. In case a request does not match any of the tiers, the request will be rejected with a 400 error unless you set this to <code>true</code>.<div class="pl-3 pt-3 space-y-3"><div>Defaults to <code>false</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=quota_name title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#quota_name class=copy-link title="Click to copy link to quota_name"><code>quota_name</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm pr-5">Name of the quota you want to reuse, written exactly as declared under the <code>processors</code> list.<div class="pl-3 pt-3 space-y-3"><div>Example: <code>"my_quota"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=tier_key title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#tier_key class=copy-link title="Click to copy link to tier_key"><code>tier_key</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm pr-5">Header or param used to determine the tier. Use <code>tier_value</code> and <code>tier_value_as</code> on each tier to determine how to match the value.<div class="pl-3 pt-3 space-y-3"><div>Examples: <code>"X-User-Tier"</code> , <code>"X-User-ID"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=tiers title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#tiers class=copy-link title="Click to copy link to tiers"><code>tiers</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">array</span></h5></dt><dd class="pl-5 text-sm pr-5">List of tiers to match against the request. The first tier that matches will be used to determine the quota to consume.<div id=tiers-432e9 class=pt-3>Each item of tiers accepts the following properties:<dl class="space-y-4 divide-y divide-gray-100 dark:divide-brand-blue-800 nomargin json-schema-render border-l ml-4 dark:border-l-brand-blue-800"><div><dt class="pl-5 whitespace-nowrap"><h5 id=tiers-key title class="inline text-base"><a href=#tiers-key class=copy-link title="Click to copy link to key"><code>key</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">The key (e.g., header name, IP, claim name) that contains the identity of the caller, like the user ID of who is doing the request. The key must be present in the request.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=tiers-rule_name title class="inline text-base"><a href=#tiers-rule_name class=copy-link title="Click to copy link to rule_name"><code>rule_name</code>
</a><span class="text-red-600 text-xl font-bold">*</span>
<span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">Tier limit defined in the global <code>processor</code>. It must be within the defined <code>limits</code> of the quota_name processor. If it&rsquo;s not found, the system will complain at startup and affected endpoints will be degraded with a 500 error</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=tiers-strategy title class="inline text-base"><a href=#tiers-strategy class=copy-link title="Click to copy link to strategy"><code>strategy</code></a></h5></dt><dd class="pl-5 text-sm">Where to find the key containing the identity of the caller. Use <code>header</code> for headers, <code>ip</code> for the IP address of the caller, and <code>param</code> for an endpoint {parameter}.<div class="pl-3 pt-3 space-y-3"><div>Possible values are: <code>"header"</code> , <code>"ip"</code> , <code>"param"</code></div><div>Defaults to <code>"header"</code></div></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=tiers-tier_value title class="inline text-base"><a href=#tiers-tier_value class=copy-link title="Click to copy link to tier_value"><code>tier_value</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm">Literal value or CEL expression to match.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=tiers-tier_value_as title class="inline text-base"><a href=#tiers-tier_value_as class=copy-link title="Click to copy link to tier_value_as"><code>tier_value_as</code></a></h5></dt><dd class="pl-5 text-sm">How to treat the value. In most cases the tier value contains the plan name, like <code>gold</code>, so you will choose <code>literal</code>. But you can also set in the value a security policy (CEL) that will evaluate to resolve the tier policy accordingly, or put an asterisk <code>*</code> to always match and use as your last and default tier.<div class="pl-3 pt-3 space-y-3"><div>Possible values are: <code>"literal"</code> , <code>"policy"</code> , <code>"*"</code></div><div>Defaults to <code>"literal"</code></div></div></dd></div></dl></div></dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=weight_key title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#weight_key class=copy-link title="Click to copy link to weight_key"><code>weight_key</code>
</a><span class="ml-2 inline-flex rounded-full bg-gray-100 px-2 text-xs font-semibold leading-5 text-gray-800">string</span></h5></dt><dd class="pl-5 text-sm pr-5">Instead of incrementing the quota counter by one unit, use the value provided in a field or header with its dynamic value. For instance, an LLM can return how many tokens it consumed, and you can use that value to increment the quota counter. The value must be a parseable number, and the field or header must be present in the backend response. The <code>weight_key</code> is only used in the <code>endpoint</code> and <code>backend</code> scopes, and it is ignored in the service level.</dd></div><div><dt class="pl-5 whitespace-nowrap"><h5 id=weight_strategy title class="inline text-base"><a href=https://www.krakend.io/docs/enterprise/v2.11/governance/quota/#weight_strategy class=copy-link title="Click to copy link to weight_strategy"><code>weight_strategy</code></a></h5></dt><dd class="pl-5 text-sm pr-5">Where to find the key containing the counter value to increment. Use <code>body</code> for any type of encoding different than <code>no-op</code> and <code>header</code> for <code>no-op</code>.<div class="pl-3 pt-3 space-y-3"><div>Possible values are: <code>"body"</code> , <code>"header"</code></div><div>Defaults to <code>"body"</code></div></div></dd></div></dl></div><div class="text-sm p-2">Schema: <a class=text-sm href=https://www.krakend.io/schema/v2.11/governance/quota.json title="JSON schema definition">https://www.krakend.io/schema/v2.11/governance/quota.json</a></div></div><h2 id=redis-keys-format>Redis keys format</h2><p>The storage of counters in Redis uses a <a href=https://redis.io/docs/latest/develop/data-types/hashes/><em>Redis hash</em> type</a> that stores an attribute for each dimension (current day, hour, month&mldr;). The key name follows the format <code>quota_name:tier_value_as:tier_value:key</code>.</p><p>If the setting <code>hash_keys</code> is set, the Redis key ending<code>...:key</code> is hashed. This will prevent the tracked key from being stored clearly in the database if it contains personal information (such as an email).</p><p>The Redis Hash will contain one property per dimension, using a letter plus a number. The letters and possible ranges are:</p><ul><li><code>hX</code> Hour (where <code>X</code> is in the range 0-23)</li><li><code>dX</code> Day (<code>X</code> in the range 1-31)</li><li><code>wX</code> Week (range 1-53)</li><li><code>mX</code> Month (range 1-12)</li><li><code>yX</code> Current year (four digits)</li></ul><p>For instance, if a request comes at <code>13:25</code> on 2025/01/04, the dimensions that could be computed are <code>h13</code>, <code>d4</code>, <code>w1</code>, <code>m1</code>, and <code>y2025</code>.</p><p>Here&rsquo;s an example interacting with Redis for a quota named <code>public_plans</code> identified by a header that contains the <code>literal</code> value <code>gold</code>, when accessed by the user ID <code>1234</code>:</p><pre tabindex=0><code># redis-cli
127.0.0.1:6379&gt; keys public_plans*
1) &#34;public_plans:literal:gold:1234&#34;
127.0.0.1:6379&gt; hkeys public_plans:literal:gold:1234
1) &#34;h13&#34;
2) &#34;d4&#34;
127.0.0.1:6379&gt; hget public_plans:literal:gold:1234 d4
&#34;125&#34;
</code></pre><p>From the example above, we can deduce that user 1234 made 125 calls on the fourth day at the 13th hour.</p><h2 id=how-much-quota-is-left>How much quota is left?</h2><p>When you place a <code>governance/quota</code> at the service or endpoint levels, <strong>clients receive usage headers</strong> unless you set the flag <code>disable_quota_headers</code> to <code>true</code> or use the <code>weight_key</code> property. These headers are:
being:</p><ul><li><code>Retry-After</code>: This header is set only when the limit is surpassed and the clients receive <code>429</code> status codes. It contains the number of seconds until the next quota refill. It is a standard header implemented in browsers for retrying.</li><li><code>X-Quota-Limit: "hour";n=10</code>: When the request is successful, it contains the total quota limit the user has within a time window (e.g., <code>hour</code>, <code>day</code>, etc.), and an <code>n=</code> which is the number of total hits permitted.</li><li><code>X-Quota-Remaining: "hour";n=9</code>: Similarly, the number of remaining hits in the time window, the quota left.</li></ul><p>Clients might receive <strong>multiple entries</strong> of the <code>X-Quota-</code> headers, as you can set quotas that work in different time windows.</p><pre tabindex=0><code>curl -i -H &#39;X-Level: MyPlan&#39; http://localhost:8080/test
HTTP/1.1 200 OK
X-Quota-Limit: &#34;hour&#34;;n=50
X-Quota-Limit: &#34;day&#34;;n=250
X-Quota-Limit: &#34;week&#34;;n=1000
X-Quota-Limit: &#34;month&#34;;n=10000
X-Quota-Limit: &#34;year&#34;;n=100000
X-Quota-Remaining: &#34;hour&#34;;n=0
X-Quota-Remaining: &#34;day&#34;;n=200
X-Quota-Remaining: &#34;week&#34;;n=950
X-Quota-Remaining: &#34;month&#34;;n=950
X-Quota-Remaining: &#34;year&#34;;n=997050
Date: Fri, 4 May 2025 08:57:55 GMT
Content-Length: 250
</code></pre><p>The user will be able to make 200 more requests today, 950 more in the week, etc. although not in the current hour because they exhausted the hourly limit and this was the last one (remaining = 0).</p><p>On the other side, users with an exceeding quota will see a response like this:</p><pre tabindex=0><code>curl -i -H &#39;X-Level: MyPlan&#39; http://localhost:8080/test
HTTP/1.1 429 Too Many Requests
Retry-After: 5
Date: Fri, 4 May 2025 08:59:55 GMT
Content-Length: 0
</code></pre><p>The example above tells the user that there won&rsquo;t be more quota for the next 5 seconds (when the hourly limit will be refiled).</p><h2 id=quota-over-usage-edge-case>Quota over usage edge case</h2><p>There is an edge case when you use the <code>weight_key</code> (you increment the usage counter based on the response), where any user with remaining quota credits could spend more than the configured amount.</p><p>The weight number in the response might be higher than the total amount of quota left. In that case, the gateway returns the service response to the user. Although they won&rsquo;t be able to make more requests until the next refill, you must be aware that consuming above the quota in this scenario is possible.</p><p>Practical example:</p><p>You have configured a weekly quota of 1000 LLM tokens. A user has already spent 999 tokens and sends a new request (still within the limits), and the LLM spends 50 more tokens. The response is returned to the user, but the total spent tokens in that week is 1049 tokens.</p><p>You must remember that KrakenD <strong>cannot predict the weight</strong>, so as long as there is a remaining quota, it will allow users to make requests.</p><h2 id=example-use-case-of-a-monetization-plan>Example use case of a monetization plan</h2><p>Suppose you want to establish the following plans:</p><pre tabindex=0><code>Gold users: 250 req/day
Bronze users: 100 req/day
Anonymous users: 10 req/day
</code></pre><p>Gold and Bronze users are known to you, and they set a header name <code>X-User-ID</code> (that could be <a href=https://www.krakend.io/docs/authorization/jwt-validation/#propagate-jwt-claims-as-request-headers>propagated by a JWT token</a>) containing their identifier. Anonymous users on the other side, use the API without an identificator and you will limit based on the IP address they are using.</p><p>This idea is expressed with the following configuration <code>tiers</code> for the <code>governance/quota</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;governance/quota&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;quota_name&#34;</span><span class=p>:</span> <span class=s2>&#34;public_plans&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;on_unmatched_tier_allow&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tier_key&#34;</span><span class=p>:</span> <span class=s2>&#34;X-Plan&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tiers&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;rule_name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_gold&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;tier_value&#34;</span><span class=p>:</span> <span class=s2>&#34;gold&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;tier_value_as&#34;</span><span class=p>:</span> <span class=s2>&#34;literal&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;strategy&#34;</span><span class=p>:</span> <span class=s2>&#34;header&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;X-User-ID&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;rule_name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_bronze&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;tier_value&#34;</span><span class=p>:</span> <span class=s2>&#34;bronze&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;tier_value_as&#34;</span><span class=p>:</span> <span class=s2>&#34;literal&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;strategy&#34;</span><span class=p>:</span> <span class=s2>&#34;header&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;key&#34;</span><span class=p>:</span> <span class=s2>&#34;X-User-ID&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;rule_name&#34;</span><span class=p>:</span> <span class=s2>&#34;rule_anonymous&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;tier_value_as&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;strategy&#34;</span><span class=p>:</span> <span class=s2>&#34;ip&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></article></div><div class="hidden lg:block ml-auto shrink-0" style=width:300px><div class="text-base space-y-4 sticky overflow-auto sticky-sidebar scrollbar-xs-netrual"><div class="rounded-lg py-2 px-2.5 bg-brand-blue/15 border border-brand-blue overflow-auto"><div class="font-bold text-blue-700"><div class="text-base text-blue-600 flex gap-2 items-center"><svg class="h-6 w-6 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"/></svg><p class="text--sm dark:text-white">Only applies to KrakenD Enterprise</p></div></div></div><div class="meta dark:border-brand-blue-800 border rounded-md dark:shadow-xs overflow-hidden"><button data-toggle=collapse data-target=#meta class="group w-full flex dark:text-white items-center bg-gray-100 dark:bg-brand-neutral-900 gap-1.5 px-2 py-1.5 text--sm active">
<svg width="18" height="18" viewBox="0 0 18 18" class="transition-transform rotate-90 group-[.active]:-rotate-90"><path d="m6.75 4.5 4.35 4.146a.5.5.0 010 .708L6.75 13.5" stroke="currentColor" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/></svg>
<span>About this feature</span></button><div class="dark:bg-brand-blue-900 dark:border-brand-blue-800 border-t text--sm leading-6 px-2.5 py-3 space-y-2.5 dark:text-white" id=meta><div class=space-x-1.5><span>Since</span>
<span class="text-brand-neutral-300 font-normal">v2.5</span></div><div class=space-y-1><div><span>Namespace</span>
<a class=cursor-help title="The key you have to put inside the extra_config object"><svg class="h-4 w-4 inline text-brand-neutral-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21.0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"/></svg></a></div><div><code>redis</code><br><code>governance/processors</code><br><code>governance/quota</code></div></div><div class=space-y-1><span>Log prefix</span><div><code>[SERVICE: Quota]</code><br><code>[ENDPOINT: /foo][Quota]</code><br><code>[BACKEND: /foo][Quota]</code></div></div><div class=space-y-1><div><span>Scope</span>
<a class=cursor-help title="Possible placements of the extra_config inside the configuration file"><svg class="h-5 w-5 inline text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21.0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"/></svg></a></div><div class=space-x-2.5><code>service</code><code>endpoint</code><code>backend</code></div></div><div><a href=https://www.krakend.io/docs/configuration/structure/ class=dark:text-white><svg class="h-4 w-4 inline -mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
Configuration reference</a></div></div></div><div id=toc-module class=print:hidden><p class="block dark:text-white text--sm">Table of Contents</p><div id=table-of-contents-list class="prose prose-ul:list-none prose-a:block prose-ul:my-0 prose-ul:pl-4 prose-ul:py-0 prose-a:text-brand-neutral-300 prose-a:text-sm prose-li:p-0 prose-li:my-2.5 docs-table-of-contents pl-1"><nav id=TableOfContents><ul><li><a href=#quotas-vs-rate-limiting>Quotas vs Rate Limiting</a><ul><li><a href=#architectural-differences>Architectural differences</a></li></ul></li><li><a href=#quota-configuration>Quota Configuration</a><ul><li><a href=#1-redis-connection-details>1. Redis connection details</a></li><li><a href=#2-global-declaration-of-quota-processors>2. Global declaration of quota processors</a></li><li><a href=#3-attach-a-quota>3. Attach a quota</a></li></ul></li><li><a href=#redis-keys-format>Redis keys format</a></li><li><a href=#how-much-quota-is-left>How much quota is left?</a></li><li><a href=#quota-over-usage-edge-case>Quota over usage edge case</a></li><li><a href=#example-use-case-of-a-monetization-plan>Example use case of a monetization plan</a></li></ul></nav></div></div></div></div></div></div><div class=print:hidden><div class=container--xxl><div class="relative px-5 md:px-10 py-16 overflow-hidden gradient--bg-lavender text-white text-center fix-border"><div class="absolute hidden md:block left-0 top-0 pointer-events-none"><img src=https://www.krakend.io/images/bgs/illustration-top.png alt="Background illustration" loading=lazy width=459 height=331></div><h2 class="heading--h2 mb-3 md:mb-6">Unresolved issues?</h2><p class="text--xl font-bold opacity-65 max-w-4xl mx-auto">The documentation is only a piece of the help you can get! Whether you are looking for Open Source or Enterprise support, see more support channels that can help you.</p><a class="mt-4 md:mt-8 button--primary" href=https://www.krakend.io/support/>See all support channels</a></div></div></div></div></main><div id=tooltip class="z-1 scrollbar-xs-netrual hidden text-sm fixed bg-white dark:bg-brand-blue-900 border border-brand-neutral dark:border-brand-blue-800 shadow-xxs p-4 rounded-lg text-brand-blue-900 dark:text-brand-neutral-300 -ml-4"><div class="tooltip-title text--sm font-semibold dark:text-white"></div><div class="tooltip-body empty:hidden pl-0 pt-3"></div></div><footer class="bg-brand-neutral-900 footer print:hidden"><div class=container--boxed><div class="flex flex-col lg:flex-row items-start justify-between py-10 pt-12 md:pt-32 lg:gap-8"><div class="text-white mb-12 md:mb-12 lg:mb-0 mx-auto md:mx-0 flex flex-col items-center md:items-start"><a href=https://www.krakend.io/ class="mb-2 md:mb-4 block"><svg width="188" height="37" viewBox="0 0 188 37" aria-label="KrakenD"><g fill="#FFF" fill-rule="nonzero"><path d="M17.986.0c4.817.0 9.332 1.841 12.712 5.185 3.4 3.363 5.274 7.882 5.274 12.723.0 10.02-8.069 18.173-17.986 18.173-7.4.0-13.77-4.538-16.527-11.004a3.366 3.366.0 01-.067-.148A18.328 18.328.0 010 17.908c0-4.841 1.873-9.36 5.274-12.723C8.654 1.84 13.168.0 17.986.0zm1.26 5.34-.227.032a13.17 13.17.0 00-.064.01l-.023.002c-5.286.697-7.639 4.681-7.62 8.384.002.43.038.85.104 1.262a9.28 9.28.0 015.812-2.022c5.157.0 9.3 4.178 9.434 9.513.063 2.55-.81 4.839-2.524 6.615-1.948 2.02-4.778 3.18-8.013 3.3v.01c-.315.011-.623.017-.925.017-3.042.0-5.469-.603-7.384-1.468a16.286 16.286.0 0010.17 3.56c9.084.0 16.475-7.468 16.475-16.647.0-1.56-.213-3.084-.625-4.538l-.144-.48-.169-.293c-3.695-6.26-9.714-7.862-14.278-7.257zm-1.26-3.813c-4.42.0-8.56 1.687-11.655 4.749-3.108 3.074-4.82 7.205-4.82 11.632a16.7 16.7.0 001.343 6.58c.507 1.037 3.646 6.591 12.716 6.445v-.015c3.055.0 5.714-1.011 7.486-2.848 1.424-1.475 2.148-3.38 2.095-5.51a8.786 8.786.0 00-.122-1.263 9.28 9.28.0 01-5.794 2.007c-5.175.0-9.407-4.274-9.434-9.528-.026-5.092 3.525-9.078 8.707-9.873l.217-.03c3.169-.493 7.023-.024 10.483 2.103l.354.224-.224-.216c-3.06-2.877-7.075-4.457-11.352-4.457zM12.482 22.97c1.709.0 3.1 1.405 3.1 3.132s-1.391 3.132-3.1 3.132c-1.71.0-3.1-1.405-3.1-3.132s1.39-3.132 3.1-3.132zm0 1.527c-.876.0-1.589.72-1.589 1.605s.713 1.605 1.589 1.605c.875.0 1.588-.72 1.588-1.605s-.712-1.605-1.588-1.605zm-5.92-8.019c1.978.0 3.587 1.626 3.587 3.625.0 1.998-1.61 3.625-3.587 3.625-1.978.0-3.587-1.626-3.587-3.625s1.61-3.625 3.587-3.625zm23.97.07c1.708.0 3.099 1.404 3.099 3.131s-1.39 3.132-3.1 3.132-3.1-1.405-3.1-3.132 1.39-3.132 3.1-3.132zm-23.97 1.457c-1.145.0-2.076.941-2.076 2.098s.931 2.098 2.076 2.098 2.076-.941 2.076-2.098-.931-2.098-2.076-2.098zm10.667-3.47c-2.016.0-3.906.75-5.372 2.12 1.158 2.995 4.033 5.122 7.378 5.122a7.802 7.802.0 005.35-2.1c-1.17-3.036-4.009-5.142-7.356-5.142zm13.302 3.539c-.876.0-1.588.72-1.588 1.605s.712 1.605 1.588 1.605 1.589-.72 1.589-1.605-.713-1.605-1.589-1.605zm-3.921-9.68c1.978.0 3.587 1.626 3.587 3.625s-1.609 3.625-3.587 3.625-3.587-1.626-3.587-3.625 1.61-3.625 3.587-3.625zm-20.092.917c1.503.0 2.725 1.234 2.725 2.752s-1.223 2.752-2.725 2.752-2.724-1.234-2.724-2.752c0-1.518 1.222-2.752 2.724-2.752zm20.092.61c-1.145.0-2.076.941-2.076 2.098s.931 2.098 2.076 2.098 2.076-.941 2.076-2.098A2.089 2.089.0 0026.61 9.92zm-20.092.917a1.22 1.22.0 00-1.213 1.225 1.22 1.22.0 001.213 1.226 1.22 1.22.0 001.213-1.226 1.22 1.22.0 00-1.213-1.225zM18.84 6.719c1.502.0 2.724 1.235 2.724 2.753s-1.222 2.752-2.724 2.752-2.724-1.234-2.724-2.752c0-1.518 1.222-2.753 2.724-2.753zm0 1.527a1.22 1.22.0 00-1.213 1.226 1.22 1.22.0 001.213 1.225 1.22 1.22.0 001.213-1.225A1.22 1.22.0 0018.84 8.246zM47.962 9.303l5.677-3.29v11.738l6.65-7.469h6.797l-7.62 8.082 7.881 12.447h-6.499l-5.229-8.388-1.98 2.145v6.243h-5.677zM68.578 10.282h5.678v4.137c1.158-2.834 3.025-4.673 6.387-4.52v6.09h-.299c-3.772.0-6.088 2.336-6.088 7.239v7.583h-5.678V10.282zm11.99 14.631v-.077c0-4.481 3.324-6.55 8.067-6.55 2.018.0 3.474.345 4.894.843v-.344c0-2.413-1.457-3.753-4.296-3.753-2.166.0-3.698.42-5.528 1.11l-1.42-4.442c2.205-.996 4.371-1.647 7.77-1.647 3.1.0 5.341.842 6.76 2.298 1.495 1.532 2.167 3.792 2.167 6.549V30.81H93.49V28.59c-1.382 1.57-3.287 2.604-6.05 2.604-3.773.0-6.873-2.222-6.873-6.281zm13.035-1.34v-1.035c-.97-.46-2.24-.765-3.623-.765-2.427.0-3.921.995-3.921 2.834v.076c0 1.57 1.27 2.49 3.1 2.49 2.651.0 4.444-1.494 4.444-3.6zm8.211-14.27 5.678-3.29v11.738l6.648-7.469h6.798l-7.62 8.082 7.882 12.447h-6.5l-5.229-8.388-1.98 2.145v6.243h-5.677z"/><path d="M120.526 20.662v-.077c0-5.86 4.072-10.685 9.899-10.685 6.686.0 9.748 5.323 9.748 11.145.0.46-.037.996-.074 1.531h-13.933c.56 2.643 2.354 4.022 4.893 4.022 1.905.0 3.288-.613 4.856-2.106l3.25 2.948c-1.868 2.375-4.557 3.83-8.18 3.83-6.014.0-10.459-4.327-10.459-10.608zm14.12-1.724c-.337-2.604-1.83-4.366-4.221-4.366-2.354.0-3.885 1.723-4.333 4.366h8.553zM142.333 10.282h5.677v2.912c1.308-1.724 2.988-3.294 5.865-3.294 4.295.0 6.798 2.91 6.798 7.621v13.29h-5.678V19.36c0-2.758-1.27-4.175-3.436-4.175-2.167.0-3.548 1.417-3.548 4.175V30.81h-5.678V10.282zM169.71 6.014h4.203c7.77.0 13.14 5.189 13.14 11.958v.068c0 6.77-5.37 12.028-13.14 12.028h-9.643V10.79l5.44-4.776zm4.203 19.277c4.45.0 7.452-2.92 7.452-7.181v-.07c0-4.26-3.002-7.25-7.452-7.25h-4.203v14.5h4.203z"/></g></svg></a><p class="flex items-center gap-1 font-medium text-base text-brand-neutral-300"><span>Made with</span><span>
<img src=https://www.krakend.io/images/icons/heart.svg alt=icon loading=lazy width=24 height=20>
</span><span>in Barcelona</span></p><p class="flex items-center justify-center h-full w-full mt-6"><a href=https://www.krakend.io/blog/soc2-certification-announcement/ class="flex flex-col items-center justify-center text-center"><img src=https://www.krakend.io/images/soc-certification-logo.png alt="SOC Certification Logo" loading=lazy width=125 height=125>
<span class="mt-2 text-xs font-medium text-brand-neutral-300">SOC 2 Type II Certification</span></a></p></div><div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-y-8 w-full footer__columns"><ul class="flex flex-col gap-2 md:gap-3"><li><span class="text-white font-medium text-sm">Products</span></li><li><a href=https://www.krakend.io/open-source/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Open Source</a></li><li><a href=https://www.krakend.io/enterprise/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Enterprise</a></li><li><a href=https://www.krakend.io/ai-gateway/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Ai Gateway</a></li><li><a href=https://www.krakend.io/features/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Feature Matrix</a></li><li><a href=https://www.krakend.io/docs/benchmarks/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Benchmarks</a></li><li><a href=https://www.krakend.io/download/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Downloads</a></li></ul><ul class="flex flex-col gap-2 md:gap-3"><li><span class="text-white font-medium text-sm">Learn</span></li><li><a href=https://www.krakend.io/blog/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Blog</a></li><li><a href=https://www.krakend.io/partners/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Partners</a></li><li><a href=https://www.krakend.io/case-study/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Case Studies</a></li><li><a href=https://www.krakend.io/team/ class="text-brand-neutral-300 hover:underline font-medium text-sm">About Us</a></li></ul><ul class="flex flex-col gap-2 md:gap-3"><li><span class="text-white font-medium text-sm">Support</span></li><li><a href=https://www.krakend.io/support/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Support Channels</a></li><li><a href=https://training.krakend.io/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Training & Certification</a></li><li><a href=https://www.krakend.io/docs/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Documentation</a></li><li class="text-brand-neutral-300 font-medium text-sm">Report <a href=https://github.com/krakend/krakend-ce/issues class=hover:underline>issue</a> / <a href=https://www.krakend.io/security-policy/#how-to-report-a-vulnerability class=hover:underline>vulnerability</a></li></ul></div></div><div class="border-t border-solid border-brand-neutral-500 border-opacity-40 py-10 md:py-4 flex items-center justify-between flex-col md:flex-row gap-6 md:gap-4"><p class="text-brand-neutral-300 text-sm">Copyright © KRAKEND S.L.U.</p><p class="text-brand-neutral-300 text-sm"><a href=https://www.krakend.io/terms/ class=hover:underline>Terms & Conditions</a> -
<a href=https://www.krakend.io/cookies-policy/ class=hover:underline>Cookies Policy</a> -
<a href=https://www.krakend.io/privacy-policy/ class=hover:underline>Privacy Policy</a> -
<a href=https://www.krakend.io/security-policy/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Security Policy</a> -
<a href=https://trust.krakend.io/ class="text-brand-neutral-300 hover:underline font-medium text-sm">Trust Center</a></p><div class="flex flex-row items-center gap-5"><a href=https://www.linkedin.com/company/krakend/ title=LinkedIn class="text-brand-neutral-300 hover:text-white transition-colors" target=_blank rel="noopener noreferrer"><svg class="h-4 w-4" viewBox="0 0 16 16"><path d="M14.222.0H1.778C.796.0.0.796.0 1.778v12.444C0 15.204.796 16 1.778 16h12.444c.982.0 1.778-.796 1.778-1.778V1.778C16 .796 15.204.0 14.222.0zM5.333 12.444H3.091V6.222h2.242v6.222zm-1.16-7.362c-.686.0-1.144-.457-1.144-1.067.0-.61.457-1.067 1.219-1.067.685.0 1.143.457 1.143 1.067s-.457 1.067-1.219 1.067zm9.16 7.362h-2.17v-3.4c0-.94-.579-1.158-.796-1.158-.217.0-.94.145-.94 1.158v3.4H7.184V6.222h2.243v.869c.289-.507.867-.869 1.953-.869 1.085.0 1.953.869 1.953 2.822v3.4z" fill="currentColor" fill-rule="nonzero"/></svg>
</a><a href=https://github.com/krakend/ title=GitHub class="text-brand-neutral-300 hover:text-white transition-colors" target=_blank rel="noopener noreferrer"><svg class="h-4 w-4" width="22" height="22" viewBox="0 0 24 24"><path d="M12 0c6.628.0 12 5.508 12 12.304.0 5.434-3.434 10.045-8.2 11.673-.608.121-.824-.263-.824-.59.0-.406.014-1.73.014-3.377.0-1.147-.384-1.896-.814-2.278 2.672-.304 5.48-1.345 5.48-6.07.0-1.344-.466-2.441-1.236-3.303.125-.31.536-1.562-.118-3.257.0.0-1.005-.33-3.296 1.262A11.275 11.275.0 0012 5.95a11.25 11.25.0 00-3.004.414c-2.293-1.592-3.3-1.262-3.3-1.262-.652 1.695-.24 2.946-.117 3.257-.767.862-1.236 1.959-1.236 3.303.0 4.713 2.802 5.77 5.467 6.08-.343.307-.654.85-.762 1.645-.684.315-2.422.858-3.492-1.022.0.0-.635-1.182-1.84-1.269.0.0-1.17-.015-.081.748.0.0.786.378 1.332 1.8.0.0.704 2.196 4.043 1.452.006 1.028.016 1.998.016 2.29.0.326-.22.706-.82.592C3.439 22.352.0 17.74.0 12.304.0 5.508 5.374.0 12 0" fill="currentColor" fill-rule="nonzero"/></svg></a></div></div></div></footer><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=https://www.krakend.io/main.js></script><script>(function(e,t,n,s,o,i){o="",s="https://tracking.g2crowd.com/attribution_tracking/conversions/"+e+".js?p="+encodeURI(t)+"&e="+o,i=document.createElement("script"),i.type="application/javascript",i.async=!0,i.src=s,n.getElementsByTagName("head")[0].appendChild(i)})("1007316",document.location.href,document)</script><script>class AttributionTracker{constructor(){this.priorityMap={direct:1,referer:2,social:3,organic:4,paid:5}}captureAdIdentifiers(){const e=new URLSearchParams(window.location.search),t=e.get("gclid"),n=e.get("gbraid"),s=e.get("wbraid");t&&setCookie("gclid",t,90),n&&setCookie("gbraid",n,90),s&&setCookie("wbraid",s,90)}updateAttributionIfHigherPriority(e,t){const n=this.getAttribution(),s=this.priorityMap[n.origin]||0,o=this.priorityMap[e]||0;o>s&&setCookie("attribution",JSON.stringify({origin:e,info:t,gclid:getCookie("gclid")||null,gbraid:getCookie("gbraid")||null,wbraid:getCookie("wbraid")||null}),90)}getAttribution(){const e=getCookie("attribution");return e?JSON.parse(e):{origin:"unknown",info:"N/A"}}detectSessionOrigin(){const e=document.referrer||"",n=window.location.hostname,t=new URLSearchParams(window.location.search),s=t.get("gclid"),o=t.get("gbraid"),i=t.get("wbraid");if(s||o||i){this.updateAttributionIfHigherPriority("paid","Google Ads");return}if(e.match(/(?:\bfacebook\.com\b|\bx\.com\b|\btwitter\.com\b|\binstagram\.com\b|\blinkedin\.com\b)/)){this.updateAttributionIfHigherPriority("social",e);return}if(e.match(/(?:\bgoogle\.|\bbing\.|\byahoo\.)/)){this.updateAttributionIfHigherPriority("organic",e);return}if(e&&!e.includes(n)){this.updateAttributionIfHigherPriority("referer",e);return}this.updateAttributionIfHigherPriority("direct","No referrer")}handleSessionAttribution(){const n=30*60*1e3,e=parseInt(getCookie("lastVisit")||"0",10),t=Date.now(),s=!e||t-e>n;s&&(setCookie("lastVisit",t,90),this.detectSessionOrigin())}initializeAttribution(){this.captureAdIdentifiers(),this.handleSessionAttribution()}}const attributionTracker=new AttributionTracker;attributionTracker.initializeAttribution()</script><script type=text/javascript>!function(){var e,t="63c393fba8dcdb6",n=function(){Reo.init({clientID:"63c393fba8dcdb6"})};(e=document.createElement("script")).src="https://static.reo.dev/"+t+"/reo.js",e.async=!0,e.onload=n,document.head.appendChild(e)}()</script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script><script type=text/javascript>docsearch({apiKey:"45f6a73a197d567f0e9ab00add7b5e9d",appId:"GALOPT2KCI",placeholder:"Search KrakenD EE v2.11",indexName:"krakend",debug:!1,translations:{button:{buttonText:"Search KrakenD EE v2.11",buttonAriaLabel:"Search KrakenD EE v2.11"}},container:"#docsearch",searchParameters:{facetFilters:["language:en","version:v2.11","product:enterprise"]}}),document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code");const s='<svg width="20" height="20" class="text-brand-neutral inline" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z"/><g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.667"><path d="M13.423 5.747v-.843a1.13 1.13 0 00-.316-.785l-2.07-2.127a1.066 1.066 0 00-.764-.325H4.414c-.286 0-.561.117-.764.325a1.127 1.127 0 00-.317.786v10.37c0 .295.114.578.317.786.203.208.478.325.764.325h2.16" opacity=".7"/><path d="M16.667 17.222c0 .295-.114.578-.317.786a1.067 1.067 0 01-.764.325H7.658c-.287 0-.562-.117-.765-.325a1.127 1.127 0 01-.316-.786V6.852c0-.295.114-.577.316-.786.203-.208.478-.325.765-.325h5.858c.287 0 .562.117.764.325l2.07 2.127c.203.209.317.491.317.786v8.243h0z"/></g></g></svg>',i='<svg width="20" height="20" class="text-brand-green inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>';t.innerHTML=s;function o(){t.innerHTML=i,setTimeout(()=>{t.innerHTML=s},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),o();return}const n=document.createRange();n.selectNodeContents(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy"),o()}catch{}s.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script type=text/javascript>const headings=document.querySelectorAll("#content h1, #content h2,#content h3"),anchorHeadings=Array.from(headings).filter(e=>e.id),observer=new IntersectionObserver(e=>{const t=e.find(e=>e.isIntersecting);t&&anchorHeadings.forEach(e=>{const n=document.querySelector(`#TableOfContents a[href="#${e.id}"]`);if(!n)return;e===t.target?n.classList.add("active"):n.classList.remove("active")})},{rootMargin:`-120px 0px -80% 0px`});anchorHeadings.forEach(function(e){observer.observe(e)});const tocAnchors=document.querySelectorAll("#TableOfContents a");tocAnchors.forEach((e,t)=>{t===0&&e.classList.add("active"),e.addEventListener("click",t=>{t.preventDefault();const n=document.getElementById(e.hash.replace("#",""));n&&(n.scrollIntoView(),history.pushState({},"",e.hash))})});const resizeObserver=new ResizeObserver(([e])=>{const t=e.target,s=t.querySelector("header"),n=t.querySelector(".breadcrumb-top-nav"),o=getComputedStyle(n).position,i=(o==="sticky"?n.offsetHeight:0)+s.offsetHeight;t.style.setProperty("--scroll-margin-top",`${i}px`)});resizeObserver.observe(document.body);const article=document.querySelector("article#content"),svgImages=article.querySelectorAll("img[src$='.svg']"),otherImages=article.querySelectorAll("img:not([src$='.svg'])");getCookie("theme")==="dark"&&(svgImages.forEach(e=>e.src=e.src.replace(".svg",".dark.svg")),otherImages.forEach(e=>{e.classList.contains("dark-version-available")&&(e.src=e.src.replace(/(\.\w+)$/,".dark$1"))}));const themeToggleButton=document.querySelector("header .theme-toggle");themeToggleButton&&themeToggleButton.addEventListener("click",e=>{document.documentElement.classList.contains("dark")?(setCookie("theme","light",365),document.documentElement.classList.remove("dark"),svgImages.forEach(e=>e.src=e.src.replace(".dark.svg",".svg")),otherImages.forEach(e=>{e.classList.contains("dark-version-available")&&(e.src=e.src.replace(/\.(dark\.)?(\w+)$/,".$2"))})):(setCookie("theme","dark",365),document.documentElement.classList.add("dark"),svgImages.forEach(e=>e.src=e.src.replace(".svg",".dark.svg")),otherImages.forEach(e=>{e.classList.contains("dark-version-available")&&(e.src=e.src.replace(/(\.\w+)$/,".dark$1"))}))})</script></body></html>