<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>KrakenD CE v2.5 released: multiple POSTs opened | KrakenD API Gateway </title><meta name=description content="KrakenD CE v2.5 released! Use multiple unsafe methods"><meta itemprop=name content="KrakenD CE v2.5 released: multiple POSTs opened | KrakenD API Gateway"><meta itemprop=description content="KrakenD CE v2.5 released! Use multiple unsafe methods"><meta itemprop=image content="https://www.krakend.io/images/logo.png"><meta property="og:url" content="https://www.krakend.io/blog/krakend-2.5-release-notes/"><meta property="og:site_name" content="KrakenD - Open source API Gateway"><meta property="og:title" content="KrakenD CE v2.5 released: multiple POSTs opened"><meta property="og:description" content="KrakenD CE v2.5 released! Use multiple unsafe methods"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-11-09T00:00:00+00:00"><meta property="article:modified_time" content="2023-11-09T00:00:00+00:00"><meta property="og:image" content="https://www.krakend.io/images/krakend-waves.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.krakend.io/images/krakend-waves.png"><meta name=twitter:title content="KrakenD CE v2.5 released: multiple POSTs opened"><meta name=twitter:description content="KrakenD CE v2.5 released! Use multiple unsafe methods"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name=viewport><link rel=stylesheet href="https://www.krakend.io/css/bundle.min.93bd92b01aa23f6f39401b7d1892d580e600406076f3b052c565efdbcd6575ca.css"><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=https://www.krakend.io/favicon/favicon-128.png sizes=128x128><link href=https://www.googletagmanager.com rel=preconnect crossorigin><link rel=dns-prefetch href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],window.dataLayer.push({pagePublishDate:"2023-11-09",pageModifiedDate:"2023-11-09",pageReadingTimeMinutes:5,pageReadingTimeSeconds:235,pageWordCount:863,pageFuzzyWordCount:900,pageKind:"page",pageId:"0d8f3d397241aaf08a9d1008355293e7",pageTitle:"KrakenD CE v2.5 released: multiple POSTs opened",pagePermalink:"https://www.krakend.io/blog/krakend-2.5-release-notes/",pageType:"blog",pageTranslated:!1,pageAuthor:"Albert Lombarte",pageCategory:"Product Updates",pageType2:"post",pageLanguage:"en"})</script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="//www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-T8R6LF3")</script></head><body class=krakend><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T8R6LF3" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class=print:hidden><p class="flex h-10 items-center justify-center bg-denim-500 px-4 text-sm font-medium text-white sm:px-6 lg:px-8"><a title="Improving The Developer Experience of Your APIs" href=https://www.krakend.io/blog/improving-developer-experience-moesif-krakend/ class="text-white text-bold"><span class="inline-flex items-center rounded-full bg-denim-100 px-2.5 py-0.5 mr-2 text-xs font-medium text-denim-800">News</span>
Improving The Developer Experience of Your APIs</a></p><div class=relative><nav class="max-w-7xl mx-auto lg:flex py-6 items-center justify-between"><div class="ml-4 xl:ml-0"><a href=https://www.krakend.io/ title=Home><img src=https://www.krakend.io/images/logo-krakend.svg alt="KrakenD Logo" loading=lazy width=180 height=34></a></div><div class="hidden ml-12 mr-4 xl:mr-0 lg:flex-grow lg:flex lg:justify-between lg:space-x-8" id=navbarMenu><ul class="lg:flex lg:space-x-8 font-medium xl:text-lg whitespace-nowrap z-50"><li><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/open-source/>Open Source</a></li><li><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/enterprise/>Enterprise</a></li><li><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/case-study/>Case studies</a></li><li><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/docs/overview/>Docs</a></li><li class="nav-item dropdown"><a class="hover:text-denim-600 text-gray-700" href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Resources<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg></a><ul class="hidden absolute ml-4 divide-y rounded-lg shadow dropdown-menu bg-white"><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/features/>Open Source VS Enterprise</a></li><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/blog/>Blog</a></li><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://training.krakend.io/>Training & Certification</a></li><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/support/>Support</a></li><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://designer.krakend.io>Designer (Config UI)</a></li><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/partners/>Partners</a></li><li class="py-1 px-6"><a class="hover:text-denim-600 text-gray-700" href=https://www.krakend.io/team/>About us</a></li></ul></li></ul><ul class="hidden lg:flex lg:space-x-4 text-sm font-medium whitespace-nowrap"><li><a class="text-gray-700 hover:text-denim-600" href=https://www.krakend.io/download/><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414.0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414.0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/></svg>
Downloads</a></li><li><a class="btn -mt-3 bg-denim-800 hover:bg-denim-500 text-white" href=https://www.krakend.io/enterprise/#contact-sales><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>
Request a Demo</a></li></ul></div><button class="print:hidden absolute right-4 top-2 lg:hidden p-3 rounded-lg border border-gray-100 navbar-toggler" type=button data-toggle=collapse data-target=#navbarMenu aria-controls=navbarMenu aria-expanded=false aria-label="Toggle navigation"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button></nav></div></div><div class=border-t><div class="grid grid-cols-1 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-x-8 py-6 max-w-7xl xl:max-w-8xl mx-auto"><div class="print:hidden order-last md:order-first col-span-2"><div class=px-4><h2 class="text-lg text-gray-500 pt-2">Blog categories</h2><ul class="px-6 py-5 space-y-3 text-sm font-medium whitespace-nowrap"><li class=nav-item><a class=nav-link href=https://www.krakend.io/blog/>All categories</a></li></li><li><a href=https://www.krakend.io/categories/product-updates/>Product Updates
</a>(47)</li><li><a href=https://www.krakend.io/categories/technical-insights--best-practices/>Technical Insights & Best Practices
</a>(25)</li><li><a href=https://www.krakend.io/categories/company-announcements/>Company Announcements
</a>(13)</li><li><a href=https://www.krakend.io/categories/tutorials--how-tos/>Tutorials & How-Tos
</a>(10)</li><li><a href=https://www.krakend.io/categories/security/>Security
</a>(7)</li></ul></div><div class="px-4 mt-8"><h2 class="text-lg text-gray-500 pt-8 border-t">Recent entries</h2><ul class="px-6 py-5 space-y-3 text-sm font-medium"><li class=nav-item><a class=nav-link href=https://www.krakend.io/blog/improving-developer-experience-moesif-krakend/>Improving The Developer Experience of Your APIs</a></li><li class=nav-item><a class=nav-link href=https://www.krakend.io/blog/automating-license-check/>Automating License Validity Checks with KrakenD</a></li><li class=nav-item><a class=nav-link href=https://www.krakend.io/blog/krakend-ee-2.6-release-notes/>KrakenD Enterprise v2.6 released with OpenTelemetry, FIPS-140, gRPC server and more</a></li><li class=nav-item><a class=nav-link href=https://www.krakend.io/blog/krakend-2.6-release-notes/>KrakenD CE v2.6 released with OpenTelemetry</a></li><li class=nav-item><a class=nav-link href=https://www.krakend.io/blog/from-opencensus-to-opentelemetry/>From OpenCensus to OpenTelemetry</a></li></ul></div></div><div class="col-span-3 lg:col-span-4 xl:col-span-5 max-w-full text-lg"><section class=px-4><article class=mb-24><header class="mb-6 lg:mb-12"><h1 class="text-denim-800 text-current text-3xl md:text-5xl"><a class=text-current href=https://www.krakend.io/blog/krakend-2.5-release-notes/>KrakenD CE v2.5 released: multiple POSTs opened</a></h1><div class="my-4 md:flex items-center gap-x-4"><p class=text-denim-800>by <strong>Albert Lombarte</strong></p><p><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline -mt-1 text-gray-500" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M6 2A1 1 0 005 3v1H4A2 2 0 002 6v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3A1 1 0 006 2zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/></svg>
Nov 9, 2023</p><div class="text-sm text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline text-gray-500 -mt-1" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3A9 9 0 113 12a9 9 0 0118 0z"/></svg>
5 min read</div></div></header><div class="prose prose max-w-full text-lg"><p>Hey KrakenD enthusiasts,</p><p>We&rsquo;ve got some exciting news for you â€“ <a href=https://www.krakend.io/download/>KrakenD v2.5 is here</a>, packed with features that take simplicity to a whole new level while tackling complex challenges head-on. Let&rsquo;s dive right into the key updates that make this release worth upgrading:</p><h2 id=multiple-posts>Multiple POSTs</h2><p>When we created the aggregation feature seven years ago, we considered it too dangerous for our users to open the door to allow aggregation and sequential calls to write data to multiple targets from a single API call. Therefore, you might have felt restricted when dealing with numerous POSTs and other unsafe methods.</p><p>With KrakenD v2.5, we have revisited this ancient determination, and now there is no limit to the number of write operations you can do in a single endpoint. What we did here is to shift the responsibility to you, the developer, because you know better than anyone else if this pattern is something you can afford.</p><p>We still firmly believe that doing distributed transactions in the API gateway <strong>is a bad idea</strong>, but we have also seen (especially in legacy systems) that you have to play with what you have. Sometimes, methods are unsafe, but the operations underneath them are not. How many old APIs have you seen that use a <code>POST</code> verb to perform a <code>SELECT</code> in a database?</p><p>With this version, you can now:</p><ul><li>Add multiple POST, DELETE, PUT, or PATCH entries in a single endpoint</li><li>Use sequential calls with unsafe methods.</li></ul><p>As seen in Spider-Man comics and movies, <em>With great power, there must also come great responsibility</em>.</p><h2 id=restrict-the-service-to-a-specific-ip>Restrict the service to a specific IP</h2><p>Now, you can dictate which IP your service listens to. So far, KrakenD listened to all interfaces (<code>0.0.0.0</code>). The <a href=https://www.krakend.io/docs/service-settings/#listen_ip>new <code>listen_ip</code> field</a> lets you restrict the service to a specific IP (v4 and v6 formats accepted), putting you in control of your network configurations.</p><h2 id=connect-to-backends-using-mtls>Connect to backends using mTLS</h2><p>Security is non-negotiable. Complementing the previously existing <a href=https://www.krakend.io/docs/authorization/mutual-authentication/>Service mTLS</a> where your clients had to provide a certificate in business-to-business (B2B) applications, you can now configure <a href=https://www.krakend.io/docs/authorization/mutual-authentication/>Client mTLS</a> options to establish secure connections from KrakenD to your backends more securely.</p><h2 id=more-granular-filtering-of-query-strings>More granular filtering of query strings</h2><p>The new release brings a second level <a href=https://www.krakend.io/docs/backends/#input_query_strings><code>input_query_strings</code> in the backend section</a>, which allows you to apply a second round of query string filtering. You might need to pass a few query strings in your endpoint, but not all backends need to receive all of them. You can now do configurations like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;endpoint&#34;</span><span class=p>:</span> <span class=s2>&#34;/letters&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;input_query_strings&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;a&#34;</span><span class=p>,</span><span class=s2>&#34;b&#34;</span><span class=p>,</span><span class=s2>&#34;c&#34;</span><span class=p>,</span><span class=s2>&#34;d&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;backend&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;url_pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;/wowels&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;input_query_strings&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;a&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;url_pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;/consonants&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;input_query_strings&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;b&#34;</span><span class=p>,</span><span class=s2>&#34;c&#34;</span><span class=p>,</span><span class=s2>&#34;d&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=one-step-flexible-configuration-and-linting>One-step Flexible Configuration and linting</h2><p>The usage of the Flexible Configuration with the <code>check</code> commands now, does not require you to use <code>FC_OUT</code> to apply the <code>--lint</code>, saving one step in all pipelines.</p><h2 id=empowering-custom-plugins>Empowering Custom Plugins</h2><p>We believe in giving you control. Custom plugins (both <a href=https://www.krakend.io/docs/extending/http-server-plugins/>server</a> and <a href=https://www.krakend.io/docs/extending/http-client-plugins/>client</a>) will now receive the <a href=https://pkg.go.dev/context>Service Go Context</a>, allowing you to gracefully handle services started by the plugin when the gateway shuts down.</p><h2 id=more-identity-servers>More Identity Servers</h2><p>Identity servers returning <code>Content-Type: application/jwk-set+json</code> are now seamlessly accepted without doing any extra configuration, expanding the horizon of possibilities for your authentication mechanisms.</p><h2 id=ironing-out-the-wrinkles>Ironing Out the Wrinkles</h2><p>KrakenD v2.5 doesn&rsquo;t just bring new features; it also addresses previous quirks. Race conditions on global JWK URL keys cache? Fixed. Rate limit eviction resetting on very large time settings? No more. We&rsquo;re committed to delivering a smoother experience.</p><p>Upgrade now and experience the power of simplicity with KrakenD v2.5. We&rsquo;re engineering solutions for your complex problems, one release at a time.</p><div class=release><h2 id=summary-of-changes-CEv2.5>ðŸš€ Summary of changes for CEv2.5</h2><p>The v2.5 binary allows multiple POSTS in and out sequential calls, restricts service listening to a specific IP, and improves JWT and AMQP.</p><ul><li class="type type-feature"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 10A6 6 0 006 4H3v2a6 6 0 006 6h3"/><path d="M12 14a6 6 0 016-6h3v1a6 6 0 01-6 6h-3"/><path d="M12 20V10"/></svg>
Endpoints with multiple POSTs are now possible. The restriction to work with multiple unsafe methods is now removed.</li><li class="type type-feature"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 10A6 6 0 006 4H3v2a6 6 0 006 6h3"/><path d="M12 14a6 6 0 016-6h3v1a6 6 0 01-6 6h-3"/><path d="M12 20V10"/></svg>
Added <a href=https://www.krakend.io/docs/backends/amqp-producer/#static_routing_key>new attribute <code>static_routing_key</code></a> on AMQP consumers (thanks to <a href=https://github.com/lennondtps>Georgios Chronis</a>).</li><li class="type type-feature"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 10A6 6 0 006 4H3v2a6 6 0 006 6h3"/><path d="M12 14a6 6 0 016-6h3v1a6 6 0 01-6 6h-3"/><path d="M12 20V10"/></svg>
The new field <a href=https://www.krakend.io/docs/service-settings/#listen_ip><code>listen_ip</code></a> can now restrict the service to listen to a specific IP.</li><li class="type type-feature"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 10A6 6 0 006 4H3v2a6 6 0 006 6h3"/><path d="M12 14a6 6 0 016-6h3v1a6 6 0 01-6 6h-3"/><path d="M12 20V10"/></svg>
You can now configure mTLS options globally to connect to your backends</li><li class="type type-feature"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 10A6 6 0 006 4H3v2a6 6 0 006 6h3"/><path d="M12 14a6 6 0 016-6h3v1a6 6 0 01-6 6h-3"/><path d="M12 20V10"/></svg>
Added a second level <code>input_query_strings</code> in the backend section.</li><li class="type type-upgrade"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 12H5.414a1 1 0 01-.707-1.707l6.586-6.586a1 1 0 011.414.0l6.586 6.586A1 1 0 0118.586 12H15v6H9v-6z"/><path d="M9 21h6"/></svg>
The Flexible Configuration and the <code>--lint</code> flag of <code>check</code> can work now in a single step</li><li class="type type-upgrade"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 12H5.414a1 1 0 01-.707-1.707l6.586-6.586a1 1 0 011.414.0l6.586 6.586A1 1 0 0118.586 12H15v6H9v-6z"/><path d="M9 21h6"/></svg>
Your custom plugins (server and client) will now receive the <a href=https://pkg.go.dev/context>Service Go Context</a>, so you can cancel services started by the plugin when the gateway shuts down.</li><li class="type type-upgrade"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 12H5.414a1 1 0 01-.707-1.707l6.586-6.586a1 1 0 011.414.0l6.586 6.586A1 1 0 0118.586 12H15v6H9v-6z"/><path d="M9 21h6"/></svg>
Identity servers returning <code>Content-Type: application/jwk-set+json</code> in their <code>jwk_url</code> are now accepted</li><li class="type type-bugfix"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9.884 5.873A3 3 0 0115 8v1"/><path d="M13 9h3a6 6 0 011 3v1m-.298 3.705A5 5 0 017 15v-3a6 6 0 011-3h1"/><path d="M3 13h4"/><path d="M17 13h4"/><path d="M12 20v-6"/><path d="M4 19l3.35-2"/><path d="M4 7l3.75 2.4"/><path d="M20 7l-3.75 2.4"/><path d="M3 3l18 18"/></svg>
When definining a custom <code>router</code> section the default settings for <code>remote_ip_headers</code> were reset.</li><li class="type type-bugfix"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9.884 5.873A3 3 0 0115 8v1"/><path d="M13 9h3a6 6 0 011 3v1m-.298 3.705A5 5 0 017 15v-3a6 6 0 011-3h1"/><path d="M3 13h4"/><path d="M17 13h4"/><path d="M12 20v-6"/><path d="M4 19l3.35-2"/><path d="M4 7l3.75 2.4"/><path d="M20 7l-3.75 2.4"/><path d="M3 3l18 18"/></svg>
The rate limit eviction was resetting on very large time settings</li><li class="type type-bugfix"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9.884 5.873A3 3 0 0115 8v1"/><path d="M13 9h3a6 6 0 011 3v1m-.298 3.705A5 5 0 017 15v-3a6 6 0 011-3h1"/><path d="M3 13h4"/><path d="M17 13h4"/><path d="M12 20v-6"/><path d="M4 19l3.35-2"/><path d="M4 7l3.75 2.4"/><path d="M20 7l-3.75 2.4"/><path d="M3 3l18 18"/></svg>
Fixed race conditions on global JWK URL keys cache</li><li class="type type-bugfix"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9.884 5.873A3 3 0 0115 8v1"/><path d="M13 9h3a6 6 0 011 3v1m-.298 3.705A5 5 0 017 15v-3a6 6 0 011-3h1"/><path d="M3 13h4"/><path d="M17 13h4"/><path d="M12 20v-6"/><path d="M4 19l3.35-2"/><path d="M4 7l3.75 2.4"/><path d="M20 7l-3.75 2.4"/><path d="M3 3l18 18"/></svg>
Requests with method OPTIONS (CORS module) with HTTP/2 without <code>HTTP/1.1 Upgrade</code> returned 405 status code instead of 204 when <code>use_h2c</code> flag was enabled (thanks to <a href=https://github.com/anivanovic>@anivanovic</a>)</li><li class="type type-security"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="24" height="24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959.0 013.598 6 11.99 11.99.0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622.0-1.31-.21-2.571-.598-3.751h-.152c-3.196.0-6.1-1.248-8.25-3.285z"/></svg>
The <code>propagate_claims</code> attribute for JWT claims sets now to blank those headers with missing values, and does not allow the user to override via custom headers.</li><li class="type type-deprecation"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="24" height="24" stroke-width="1.5" stroke="currentcolor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788.0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25.0 01-2.244 2.077H8.084A2.25 2.25.0 015.84 19.673L4.772 5.79m14.456.0a48.108 48.108.0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11.0 013.478-.397m7.5.0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964.0 00-3.32.0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5.0a48.667 48.667.0 00-7.5.0"/></svg>
The flag <code>router.use_h2c</code> has <a href=https://www.krakend.io/docs/service-settings/http-server-settings/#use_h2c>moved to the root level</a> as <code>use_h2c</code>, and its usage inside the <code>router</code> is marked as deprecated.</li></ul><p>Upgrading to the latest version is always advised.</p><div class="flex justify-center my-4"><a class="btn bg-gray-500 mr-5" href=https://github.com/krakend/krakend-ce/compare/v2.4.6...v2.5.0 title="Changelog for v2.5"><div class=text-white><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625A3.375 3.375.0 0016.125 8.25h-1.5A1.125 1.125.0 0113.5 7.125v-1.5A3.375 3.375.0 0010.125 2.25H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621.0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621.0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625.0 11-5.25.0 2.625 2.625.0 015.25.0z"/></svg></div><div class=text-white>Compare versions</div></a><a class="btn bg-denim-500" href=https://www.krakend.io/docs/configuration/migrating/ title="Changelog for v2.5"><div class=text-white><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993.0 3.181 3.183a8.25 8.25.0 0013.803-3.7M4.031 9.865a8.25 8.25.0 0113.803-3.7l3.181 3.182m0-4.991v4.99"/></svg></div><div class=text-white>Upgrade to v2.5</div></a></div></div><div class="border-t border-gray-200"><p class=text-sm><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline text-gray-500" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414.0l-7-7A.997.997.0 012 10V5a3 3 0 013-3h5c.256.0.512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/></svg> Categories:
<a href=https://www.krakend.io/categories/product-updates/ title="More posts about Product Updates"><span class="inline-flex items-center rounded-full bg-denim-100 px-2.5 py-0.5 mr-2 text-xs font-medium text-denim-800">Product Updates</span></a></p></div></div></article></section></div></div></div><img referrerpolicy=no-referrer-when-downgrade src="https://static.scarf.sh/a.png?x-pxid=f7c494d3-4574-4ef2-977b-b8b1708cd61d" width=1 height=1 alt=Scarf style=position:absolute><div class="print:hidden bg-gradient-to-r from-denim-500 to-denim-800 py-8"><div class="max-w-7xl mx-auto sm:flex sm:space-y-0 space-y-4 text-center sm:text-left items-center justify-between px-8"><div class="flex-none text-xl font-medium text-white"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" viewBox="0 0 20 20" fill="currentcolor"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0016 4H4A2 2 0 002.003 5.884z"/><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/></svg>&nbsp;Stay up to date with KrakenD releases and important updates</div><div class=flex-grow><form action="https://krakend.us19.list-manage.com/subscribe/post?u=5cae4bbe9877b1adfe8fe808d&amp;id=e5385eb57b&amp;v_id=4265&amp;f_id=006687e4f0" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate><div style=position:absolute;left:-5000px aria-hidden=true><input type=text name=b_5cae4bbe9877b1adfe8fe808d_e5385eb57b tabindex=-1></div><div class="flex items-center justify-center sm:justify-end"><input type=email name=EMAIL class="block rounded-l px-3 py-1 w-full max-w-xs" id=mce-EMAIL placeholder="email address" required>
<input type=hidden name=tags value=6244009>
<input type=hidden id=gdpr_14365 name=gdpr[14365] value=Y>
<input type=submit class="block bg-denim-500 text-white rounded-r px-3 py-1" value=Subscribe></div></form></div></div></div><footer class="print:hidden bg-gradient-to-r from-denim-900 to-denim-800 py-8 sm:py-18 text-gray-300"><div class="max-w-7xl mx-auto px-4"><div class="lg:grid lg:grid-cols-6 md:grid md:grid-cols-4"><div class="lg:col-span-3 pr-12"><img src=https://www.krakend.io/images/logo-white.png alt="KrakenD API Gateway" loading=lazy width=353 height=70><p class="text-xl my-6 text-denim-300">The <strong>Ultra-High performance</strong> Open Source API Gateway</p><p class="text-sm my-4">KrakenD helps application developers release features quickly by eliminating all the complexities of SOA architectures while offering a unique performance.</p></div><div><h6>Social</h6><ul class="ml-2 my-2"><li><a class=text-denim-300 href=https://www.krakend.io/blog/>Blog</a></li><li><a class=text-denim-300 href=https://medium.com/krakend>Medium</a></li><li><a class=text-denim-300 href=https://twitter.com/krakend_io>Twitter</a></li><li><a class=text-denim-300 href=https://github.com/krakend/>GitHub</a></li><li><a class=text-denim-300 href=https://www.linkedin.com/company/krakend/>LinkedIn</a></li></ul><h6>Experiments</h6><ul class="ml-2 mb-2"><li><a class=text-denim-300 href=https://api2html.com>API2HTML</a></li></ul></div><div><h6>KrakenD</h6><ul class="ml-2 my-2"><li><a class=text-denim-300 href=https://www.krakend.io/open-source/>Open Source</a></li><li><a class=text-denim-300 href=https://www.krakend.io/enterprise/>Enterprise</a></li><li><a class=text-denim-300 href=https://www.krakend.io/case-study/>Case studies</a></li><li><a class=text-denim-300 href=https://www.krakend.io/docs/benchmarks/>Benchmarks</a></li><li><a class=text-denim-300 href=https://www.krakend.io/download/>Download</a></li><li><a class=text-denim-300 href=https://www.krakend.io/team/>Team</a></li></ul></div><div><h6>Support</h6><ul class="ml-2 my-2"><li><a class=text-denim-300 href=https://www.krakend.io/support/>Support channels</a></li><li><a class=text-denim-300 href=https://training.krakend.io/>Training & Certification</a></li><li><a class=text-denim-300 href=https://www.krakend.io/docs/overview/>Documentation</a></li><li><a class=text-denim-300 href=https://github.com/krakend/krakend-ce target=_blank>Open Source</a></li><li><a class=text-denim-300 href=https://github.com/krakend/krakend-ce/issues>Report an issue</a></li><li><a class=text-denim-300 href=https://www.krakend.io/security-policy/>Report a vulnerability</a></li></ul></div></div><div class="sm:flex sm:justify-between sm:items:center"><div><strong>Copyright &copy; 2017-2024 KRAKEND S.L.</strong> - <a href=https://www.krakend.io/terms/ class=text-denim-300>Terms</a> - <a href=https://www.krakend.io/privacy-policy/ class=text-denim-300>Privacy Policy</a></div><div class=whitespace-nowrap>Made with&nbsp;
<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline text-red-600 animate-pulse" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656.0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/></svg>&nbsp;in Barcelona</div></div></div><div class="max-w-7xl mx-auto px-4 mt-8 text-center"><div class="grid grid-cols-3 gap-8 items-center"><div class="justify-self-end sf-root" data-id=3447599 data-badge=light-default data-variant-id=sf style=width:100px><a href=https://sourceforge.net/software/product/KrakenD/ target=_blank>KrakenD Reviews</a></div><script>(function(){var t,e=document.createElement("script");e.async=!0,e.src="https://b.sf-syn.com/badge_js?sf_id=3447599&variant_id=sf",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script><a class=justify-self-center title="KrakenD API Gateway is a leader in API Management on G2" href="https://www.g2.com/products/krakend-api-gateway/reviews?utm_source=rewards-badge"><img style=width:100px alt="KrakenD API Gateway is a leader in API Management on G2" src=https://images.g2crowd.com/uploads/report_medal/image/1004595/medal.svg>
</a><script>(function(e,t,n,s){window.fetch("https://www.g2.com/products/krakend-api-gateway/rating_schema.json").then(e=>e.json()).then(o=>{n=e.createElement(t),n.type="application/ld+json",n.text=JSON.stringify(o),s=e.getElementsByTagName(t)[0],s.parentNode.insertBefore(n,s)})})(document,"script")</script><div class=sf-root data-id=3447599 data-badge=users-love-us-new-white data-variant-id=sd style=width:100px><a href=https://slashdot.org/software/p/KrakenD/ target=_blank>KrakenD Reviews</a></div><script>(function(){var t,e=document.createElement("script");e.async=!0,e.src="https://b.sf-syn.com/badge_js?sf_id=3447599&variant_id=sd",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></div></div></footer><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=https://www.krakend.io/main.js></script><script>(function(e,t,n,s,o,i){o="",s="https://tracking.g2crowd.com/attribution_tracking/conversions/"+e+".js?p="+encodeURI(t)+"&e="+o,i=document.createElement("script"),i.type="application/javascript",i.async=!0,i.src=s,n.getElementsByTagName("head")[0].appendChild(i)})("1007316",document.location.href,document)</script></body></html>